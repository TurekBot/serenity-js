<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-85788349-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-85788349-2');
    </script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "8d0y8ip2in");
    </script>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,900,700,400italic" rel="stylesheet">
    <title>Serenity/JS 3.0 (RC) | Serenity/JS</title>
    <meta property="og:title" content="Serenity/JS 3.0 (RC) | Serenity/JS"/>
    <meta property="og:description" content="Full-stack acceptance testing with Serenity/JS"/>
    <meta property="og:image" content="https://serenity-js.org/images/serenity-js-banner.png"/>
    <meta property="og:url" content="https://serenity-js.org/handbook/release-notes/serenity-js-3.html"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/icons/site.webmanifest">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/css/charming-pro-serenity-js.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css"
          integrity="sha256-AJfZWudfDWpFpIZ3USExGYDGwsYz47IgfEQCiGTm4wQ=" crossorigin="anonymous">
</head>
<body>

<div id="top"
        class="block block-dark block-bb bg-gradient-accent-2 p-0 d-print-none">
    <div class="container">
        <nav id="web-nav" class="web-nav web-nav-light">
            <header>
                <a href="/" class="serenity-js-logo">
                    <svg width="190px" height="42px" viewBox="0 0 1077 243" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
                        <path class="logo-accent" d="M295.133,157.626l22.342,0c1.571,12.567 6.633,23.04 27.753,23.04c13.789,0 23.563,-7.68 23.563,-19.2c0,-11.52 -5.76,-15.884 -26.007,-19.2c-29.847,-4.015 -43.985,-13.091 -43.985,-36.48c0,-20.422 17.454,-35.782 43.461,-35.782c26.881,0 42.938,12.219 45.382,36.131l-21.294,0c-2.27,-13.091 -9.775,-18.676 -24.088,-18.676c-14.138,0 -21.469,6.807 -21.469,16.407c0,10.123 4.19,15.186 25.833,18.327c29.323,4.015 44.509,12.393 44.509,37.353c0,21.643 -18.327,38.574 -45.905,38.574c-34.036,0 -48.35,-16.931 -50.095,-40.494" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M472.468,141.219c-1.048,-15.709 -9.077,-22.691 -22.168,-22.691c-12.741,0 -21.294,8.552 -23.389,22.691l45.557,0Zm-67.55,10.473l0,-1.397c0,-28.276 19.375,-47.127 45.382,-47.127c22.691,0 43.113,13.44 43.113,46.08l0,6.109l-66.851,0c0.698,17.28 9.426,27.054 25.135,27.054c12.742,0 19.375,-5.061 20.945,-13.963l20.422,0c-2.967,19.2 -18.502,29.672 -41.891,29.672c-26.88,0 -46.255,-17.629 -46.255,-46.428" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M513.481,105.088l14.487,0l0,16.407c5.761,-10.298 13.616,-17.454 30.023,-17.978l0,13.615c-18.327,0.872 -30.023,6.633 -30.023,29.148l0,50.095l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M637.754,141.917c-1.396,-18.851 -11.171,-26.356 -26.182,-26.356c-14.836,0 -24.785,10.124 -27.229,26.356l53.411,0Zm-68.945,9.774l0,-1.396c0,-27.578 17.629,-46.778 42.763,-46.778c21.12,0 41.019,12.742 41.019,45.381l0,4.713l-68.772,0c0.699,20.771 10.648,32.291 29.325,32.291c14.137,0 22.341,-5.236 24.261,-15.883l14.488,0c-3.143,18.327 -18.328,27.927 -38.924,27.927c-25.833,0 -44.16,-18.153 -44.16,-46.255" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M673.882,105.088l14.487,0l0,14.487c4.189,-8.552 14.313,-16.058 29.324,-16.058c18.85,0 32.116,10.299 32.116,36.829l0,56.029l-14.488,0l0,-57.076c0,-16.059 -6.806,-23.215 -21.468,-23.215c-13.441,0 -25.484,8.553 -25.484,24.96l0,55.331l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M772.733,105.088l14.486,0l0,91.287l-14.487,0l0,-91.287Zm-2.618,-28.626c0,-5.237 4.365,-9.6 9.601,-9.6c5.236,0 9.599,4.363 9.599,9.6c0,5.237 -4.363,9.6 -9.599,9.6c-5.236,0 -9.601,-4.363 -9.601,-9.6" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M819.16,173.51l0,-56.204l-13.091,0l0,-12.218l13.091,0l0,-20.77l14.487,0l0,20.77l21.294,0l0,12.218l-21.294,0l0,54.808c0,8.901 4.015,13.265 11.346,13.265c4.538,0 8.028,-0.698 11.171,-1.92l0,12.218c-2.968,1.047 -6.459,1.92 -12.394,1.92c-16.581,0 -24.61,-9.774 -24.61,-24.087" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M902.589,186.949l-35.782,-81.861l15.535,0l27.927,65.454l25.309,-65.454l14.836,0l-50.443,123.054l-14.662,0l17.28,-41.193Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M996.26,100.15l7.752,0l-22.728,69.537l-7.675,0l22.651,-69.537Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1002.35,157.646l0,-7.826c1.882,0.752 3.763,1.353 6.924,1.353c4.891,0 8.053,-2.558 8.053,-9.181l0,-37.252l10.084,0l0,37.478c0,11.664 -6.698,17.008 -16.632,17.008c-4.44,0 -6.698,-0.678 -8.429,-1.58" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1035.46,141.841l9.633,0c0.678,5.42 2.86,9.934 11.966,9.934c5.945,0 10.16,-3.311 10.16,-8.278c0,-4.967 -2.484,-6.847 -11.214,-8.277c-12.868,-1.733 -18.964,-5.645 -18.964,-15.729c0,-8.806 7.525,-15.427 18.738,-15.427c11.59,0 18.514,5.267 19.567,15.578l-9.181,0c-0.978,-5.645 -4.215,-8.053 -10.386,-8.053c-6.095,0 -9.256,2.934 -9.256,7.074c0,4.366 1.806,6.547 11.138,7.901c12.643,1.732 19.191,5.343 19.191,16.105c0,9.332 -7.903,16.633 -19.793,16.633c-14.675,0 -20.846,-7.301 -21.599,-17.461" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M152.636,121.232c0,17.344 -14.06,31.404 -31.404,31.404c-17.344,0 -31.405,-14.06 -31.405,-31.404c0,-17.344 14.061,-31.404 31.405,-31.404c17.344,0 31.404,14.06 31.404,31.404" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M230.534,68.726l-67.217,67.217l46.941,0c-7.045,42.781 -44.281,75.521 -89.026,75.521c-31.396,0 -59.086,-16.127 -75.255,-40.523l-22.286,22.287c22.081,29.866 57.547,49.236 97.541,49.236c66.955,0 121.232,-54.277 121.232,-121.232c0,-18.81 -4.284,-36.619 -11.93,-52.506m-198.328,37.796c7.045,-42.782 44.281,-75.522 89.026,-75.522c31.396,0 59.086,16.127 75.255,40.523l22.286,-22.286c-22.081,-29.867 -57.547,-49.237 -97.541,-49.237c-66.955,0 -121.232,54.278 -121.232,121.232c0,18.811 4.284,36.62 11.93,52.506l67.217,-67.216l-46.941,0Z" style="fill-rule:nonzero;"/>
                    </svg>
                </a>
        
                <a href="#!" class="web-nav-toggler">
                    <span class="fa fa-close"></span>
                    <span class="fa fa-bars"></span>
                </a>
            </header>
        
            <div class="web-nav-list">
                <a href="/handbook" class="web-nav-item">Handbook</a>
                <a href="/modules" class="web-nav-item">Modules</a>
                <a href="/changelog.html" class="web-nav-item">Changelog</a>
                <a href="/support.html" class="web-nav-item">Support</a>
                <a href="/community/sponsors.html" class="web-nav-item">Sponsors</a>
                <a href="https://twitter.com/SerenityJS" class="web-nav-item" title="Serenity/JS on Twitter">
                    <span class="d-block d-lg-none">@SerenityJS on Twitter</span><span class="fab fa-twitter d-none d-lg-inline"> </span>
                </a>
                <a href="https://www.youtube.com/channel/UC0RdeVPyjtJopVHvlLrXd1Q" class="web-nav-item" title="Serenity/JS on YouTube">
                    <span class="d-block d-lg-none">serenity-js on YouTube</span><span class="fab fa-youtube d-none d-lg-inline"> </span>
                </a>
                <a href="https://github.com/serenity-js" class="web-nav-item" title="Serenity/JS on GitHub">
                    <span class="d-block d-lg-none">Source code</span><span class="fab fa-github d-none d-lg-inline"> </span>
                </a>
            </div>
        
            <div id="web-nav-mobile-indicator"><!-- this signals to the javascript if the navigation is mobile or not --></div>
        </nav>
    </div>

    <div class="announcement" role="banner">
        👋 CSS? XPath? Or data-test-id? Help make Serenity/JS selectors better by answering <strong><a href="https://forms.gle/CGebfBPwKJQHkXr69">3 short questions</a></strong>!
    </div>
</div>

<section id="handbook">
    <section>
        <div class="container">
            <div class="row">
                <aside id="sidebar" class="col-lg-3 col-md-12 d-print-none">
                    <nav class="toc navigation text-truncate" data-ice="nav">
                        <ul class="summary">
                                <li class="header"><a href="/handbook/index.html">Overview</a></li>
                                <li class="chapter"><a href="/handbook/why-serenityjs.html">Why Serenity/JS?</a></li>
                                <li class="chapter"><a href="/handbook/demo.html">Demo</a></li>
                                <li class="chapter"><a href="/handbook/about.html">About this book</a></li>
                                <li class="chapter"><a href="/support.html">Support</a></li>
                                <li class="chapter"><a href="/contributing.html">Contributing</a></li>
                                <li class="chapter"><a href="/license.html">License</a></li>
                                <li class="header"><a href="/handbook/release-notes/index.html">What&#x27;s new 🎁</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/versioning.html">Serenity/JS versioning</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/serenity-js-2.html">Serenity/JS 2.0</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/serenity-js-3.html">Serenity/JS 3.0 (RC)</a></li>
                                <li class="header"><a href="/handbook/thinking-in-serenity-js/index.html">Thinking in Serenity/JS</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/hello-serenity-js.html">Hello, Serenity/JS!</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/test-runners.html">Test Runners and Reporting</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/actors-and-asynchrony.html">Actors and Asynchrony</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/assertions.html">Assertions</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/testing-rest-apis.html">Testing REST APIs</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/testing-web-uis.html">Testing Web UIs</a></li>
                                <li class="header"><a href="/handbook/design/index.html">Design Guide</a></li>
                                <li class="chapter"><a href="/handbook/design/the-trouble-with-test-scripts.html">The trouble with test scripts</a></li>
                                <li class="chapter"><a href="/handbook/design/screenplay-pattern.html">The Screenplay Pattern</a></li>
                                <li class="chapter"><a href="/handbook/design/actors.html">Actors</a></li>
                                <li class="chapter"><a href="/handbook/design/abilities.html">Abilities</a></li>
                                <li class="chapter"><a href="/handbook/design/interactions.html">Interactions</a></li>
                                <li class="chapter"><a href="/handbook/design/tasks.html">Tasks</a></li>
                                <li class="chapter"><a href="/handbook/design/questions.html">Questions</a></li>
                                <li class="chapter"><a href="/handbook/design/errors.html">Errors</a></li>
                                <li class="header"><a href="/handbook/integration/index.html">Integration Guide</a></li>
                                <li class="chapter"><a href="/handbook/integration/architecture.html">Architecture</a></li>
                                <li class="chapter"><a href="/handbook/integration/runtime-dependencies.html">Runtime dependencies</a></li>
                                <li class="chapter"><a href="/handbook/integration/installation.html">Installation</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-cucumber.html">Integrating with Cucumber</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-jasmine.html">Integrating with Jasmine</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-mocha.html">Integrating with Mocha</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-protractor.html">Integrating with Protractor</a></li>
                                <li class="chapter"><a href="/handbook/integration/jira-and-other-issue-trackers.html">Jira and other issue trackers</a></li>
                                <li class="header"><a href="/handbook/reporting/index.html">Reporting</a></li>
                                <li class="chapter"><a href="/handbook/reporting/console-reporter.html">Console Reporter</a></li>
                                <li class="chapter"><a href="/handbook/reporting/serenity-bdd-reporter.html">Serenity BDD Reporter</a></li>
                                <li class="chapter"><a href="/handbook/reporting/artifact-archiver.html">Artifact Archiver</a></li>
                                <li class="chapter"><a href="/handbook/reporting/stream-reporter.html">Stream Reporter</a></li>
                                <li class="header"><a href="/community/index.html">Community</a></li>
                                <li class="chapter"><a href="/community/events-and-articles.html">Events and articles</a></li>
                                <li class="chapter"><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                        </ul>
                    </nav>
                </aside>

                <div class="col-lg-9 col-md-12">
                    <article class="content">
                        <nav class="article-tools">
                            <a href="https://github.com/serenity-js/serenity-js/edit/master/documentation/website/src/handbook/release-notes/serenity-js-3.md">
                                <i class="far fa-edit"></i> Edit on GitHub</a>
                        </nav>
                        <section class="github-markdown">
                            <html><head></head><body><h1 id="serenityjs-30-release-candidate">Serenity/JS 3.0 Release Candidate</h1>
<p>Serenity/JS 3.0 is <a href="https://github.com/serenity-js/serenity-js/milestone/1">around the corner</a>
and introduces a number of new features while aiming to retain backwards compatibility of most of the core APIs.</p>
<p>The latest Release Candidate (RC) is already <a href="https://www.npmjs.com/package/@serenity-js/core">available on NPM</a> and this guide
will help you get started and highlight notable differences from Serenity/JS version 2.</p>
<p>We've already migrated several of the popular <a href="https://github.com/serenity-js?q=template&amp;type=all&amp;language=&amp;sort=">Serenity/JS templates</a>, and you'll find code using the new Serenity/JS APIs on the <code>main</code> branch (the old <code>master</code> branch still contains Serenity/JS 2 code):</p>
<ul>
<li><a href="https://github.com/serenity-js/serenity-js-cucumber-webdriverio-template/tree/main">serenity-js-cucumber-webdriverio-template</a> (<a href="https://github.com/serenity-js/serenity-js-cucumber-webdriverio-template/compare/master...main">see diff</a>)</li>
<li><a href="https://github.com/serenity-js/serenity-js-mocha-webdriverio-template/tree/main">serenity-js-mocha-webdriverio-template</a> (<a href="https://github.com/serenity-js/serenity-js-mocha-webdriverio-template/compare/master...main">see diff</a>)</li>
</ul>
<div class="pro-tip">
    <div class="icon"><i class="fab fa-twitter"></i></div>
    <div class="text">
        <p>
            This guide will continue to evolve as we're working on Serenity/JS 3.0, so make sure to follow @SerenityJS on Twitter to stay up to date!
        </p>
        <p>
            <a href="https://twitter.com/@SerenityJS" class="img-link">
                <img src="https://img.shields.io/twitter/follow/SerenityJS?style=social" alt="Follow SerenityJS on Twitter">
            </a>
        </p>
    </div>
</div>

<h2 id="portable-web-tests">Portable Web Tests</h2>
<p>The most significant change in the Web testing space is the introduction of the <a href="https://github.com/serenity-js/serenity-js/tree/main/packages/web"><code>@serenity-js/web</code></a> module and numerous features that help your tests become portable across the different test integration tools (such as Protractor, WebdriverIO, Puppeteer, etc.)</p>
<p>The new module contains all the Web-related interactions and questions, while the integration-tool specific modules such as <a href="https://github.com/serenity-js/serenity-js/tree/main/packages/protractor"><code>@serenity-js/protractor</code></a> and <a href="https://github.com/serenity-js/serenity-js/tree/main/packages/webdriverio"><code>@serenity-js/webdriverio</code></a> contain only tool-specific models and abilities. This change will help your test code be much more portable between the different integration tools, and will also help us significantly reduce the effort of introducing new integrations (with <a href="https://github.com/serenity-js/serenity-js/pull/911">support for Playwright</a> already in the works).</p>
<p>To see what the changes look like in practice, have a look at the TodoMVC tests implemented using:</p>
<ul>
<li><a href="https://github.com/serenity-js/serenity-js/tree/main/examples/webdriverio-mocha-todomvc">Serenity/JS 3.x</a></li>
<li><a href="https://github.com/serenity-js/serenity-js/tree/master/examples/webdriverio-mocha-todomvc">Serenity/JS 2.x</a></li>
</ul>
<p>Let's discuss the changes below.</p>
<h3 id="configuring-the-actors">Configuring the <code>Actors</code></h3>
<p>The only non-portable part of Serenity/JS 3.x Web tests is your <code>Actors</code> class.
That's because while your tests can be agnostic of the lower-level integration tool, the <code>Actors</code> need to "know" what tool to use.</p>
<p>The first change you'll see is in how the <code>Actors</code> class is defined.</p>
<p>In <a href="https://github.com/serenity-js/serenity-js/blob/4779aa66431addc63bbc77c435a9e25bf1f39d13/examples/webdriverio-mocha-todomvc/src/Actors.ts">Serenity/JS 2</a>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> Cast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/webdriverio'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
            BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>browser<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In <a href="https://github.com/serenity-js/serenity-js/blob/4779aa66431addc63bbc77c435a9e25bf1f39d13/examples/webdriverio-mocha-todomvc/src/Actors.ts">Serenity/JS 3</a>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> Cast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWebWithWebdriverIO <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/webdriverio'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
            BrowseTheWebWithWebdriverIO<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>browser<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>So here's the difference:</p>
<ul>
<li>Instead of importing <code>BrowseTheWeb</code> you import <code>BrowseTheWebWithWebdriverIO</code> (which is a tool-specific implementation of the <code>BrowseTheWeb</code> interface)</li>
<li>Next, you give the new tool-specific ability to the actor:</li>
</ul>
<pre class="language-diff"><code class="language-diff">import { Actor, Cast } from '@serenity-js/core';
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> import { BrowseTheWeb } from '@serenity-js/webdriverio';
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { BrowseTheWebWithWebdriverIO } from '@serenity-js/webdriverio';
</span></span>
export class Actors implements Cast {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   prepare(actor: Actor): Actor {
</span><span class="token prefix unchanged"> </span><span class="token line">       return actor.whoCan(
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">           BrowseTheWeb.using(browser),
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">           BrowseTheWebWithWebdriverIO.using(browser),
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       );
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span>}
</code></pre>
<h3 id="implementing-portable-interactions-and-questions">Implementing portable <code>Interaction</code>s and <code>Question</code>s</h3>
<p>Because <code>BrowseTheWebWithWebdriverIO extends BrowseTheWeb</code>, any custom interactions and questions should still use the <strong>generic and tool-agnostic</strong> <code>BrowseTheWeb</code> from <code>@serenity-js/web</code> to be portable between the different integration tools. Note that this also means that there's a good chance that any custom interactions and questions you have implemented with Serenity/JS 2 would still work with few if any changes with Serenity/JS 3.</p>
<p>How does it work? In Serenity 3, calling <code>BrowseTheWeb.as(actor)</code> looks up any ability that extends the base <code>BrowseTheWeb</code>, so currently either <code>BrowseTheWebWithWebdriverIO</code>, <code>BrowseTheWebWithProtractor</code>, or your custom extensions of those classes.</p>
<p>For example, the below custom interaction to <code>ReloadPage</code> is <strong>portable</strong>, which means that it works with both <code>BrowseTheWebWithWebdriverIO</code> <em>and</em> <code>BrowseTheWebWithProtractor</code>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> Interaction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/web'</span>

<span class="token keyword">const</span> <span class="token function-variable function">ReloadPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
    Interaction<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor reloads a page</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> BrowseTheWeb<span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reloadPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text"><p><strong>PRO TIP:</strong>
        If you're into software design patterns, you can think of <code>Actor</code>s as tiny <a href="https://en.wikipedia.org/wiki/Dependency_injection">Dependency Injection Containers</a>. 
    </p>
    </div>
</div>

<h3 id="portable-pageelements">Portable <code>PageElements</code></h3>
<p>The next significant change is the <strong>removal of <code>Target</code> classes</strong> in favour of portable <code>PageElement</code> and <code>PageElements</code> implementations. Serenity/JS 3 also uses its own tool-agnostic locators.</p>
<p>It will all become more clear with an example.</p>
<p>In <a href="https://github.com/serenity-js/serenity-js/blob/master/examples/webdriverio-mocha-todomvc/src/todo-list/ui/TodoList.ts">Serenity/JS 2</a> you'd define the elements you want your tests to interact with using syntax similar to the below:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> equals <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Question <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by<span class="token punctuation">,</span> Target<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/webdriverio'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Element <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'webdriverio'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TodoList</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> newTodoInput <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'"What needs to be done?" input box'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'.new-todo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> editTodoInput <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'"What needs to be done?" input box'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'.todo-list li.editing .edit'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> items <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'List of Items'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'.todo-list li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> itemCalled <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> Question<span class="token operator">&lt;</span><span class="token builtin">Promise</span><span class="token operator">&lt;</span>Element<span class="token operator">&lt;</span><span class="token string">'async'</span><span class="token operator">&gt;&gt;&gt;</span> <span class="token operator">=&gt;</span>
        TodoList<span class="token punctuation">.</span>items
            <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>Text<span class="token punctuation">,</span> <span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Note that in the listing above:</p>
<ul>
<li><code>by</code> is tool-specific and comes from <code>@serenity-js/webdriverio</code></li>
<li><code>TodoList.itemCalled</code> is defined as returning <code>Question&lt;Promise&lt;Element&lt;'async'&gt;&gt;&gt;</code> with <code>Element</code> again being tool-specific and coming from <code>webdriverio</code></li>
</ul>
<p>Both of the above issues make our code bound to the lower-level test integration tool.</p>
<p>In <a href="https://github.com/serenity-js/serenity-js/tree/main/examples/webdriverio-mocha-todomvc/src/todo-list/ui">Serenity/JS 3</a> the changes to implementation look relatively small, but have powerful consequences:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> By<span class="token punctuation">,</span> PageElement<span class="token punctuation">,</span> PageElements<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/web'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> includes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TodoList</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> newTodoInput <span class="token operator">=</span>
        PageElement<span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'.new-todo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">describedAs</span><span class="token punctuation">(</span><span class="token string">'"What needs to be done?" input box'</span><span class="token punctuation">)</span>
    <span class="token punctuation">;</span>

    <span class="token keyword">static</span> editTodoInput <span class="token operator">=</span>
        PageElement<span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'.todo-list li.editing .edit'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">describedAs</span><span class="token punctuation">(</span><span class="token string">'edit field'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> items <span class="token operator">=</span>
        PageElements<span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'.todo-list li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">describedAs</span><span class="token punctuation">(</span><span class="token string">'list of items'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token function-variable function">itemCalled</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        TodoList<span class="token punctuation">.</span>items
            <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>Text<span class="token punctuation">,</span> <span class="token function">includes</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">describedAs</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">item called '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> name <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>To see the new <code>PageElement</code> and <code>PageElements</code> APIs in actions, including using advanced element filters and mapping, 
have a look at the <a href="https://github.com/serenity-js/serenity-js/blob/main/integration/web-specs/spec/screenplay/models/PageElements.patterns.spec.ts">PageElements patterns spec</a>.</p>
<p>If you'd like to see a tutorial or screencast on this topic, let us know on Twitter!</p>
<a href="https://twitter.com/@SerenityJS" class="img-link">
    <img src="https://img.shields.io/twitter/follow/SerenityJS?style=social" alt="Follow SerenityJS on Twitter">
</a>

<h2 id="taking-notes">Taking Notes</h2>
<p>The ability to <code>TakeNotes</code>, the question about <code>Note</code>, and the interaction to <code>TakeNote</code> have been completely re-written to provide better type safety, more flexibility, and to take advantage of the new <code>QuestionAdapter</code> APIs.</p>
<p>At the high level, there's a new class that represents the <code>Notepad</code>. You can type it to specify what sort of data you're planning to store in it:</p>
<pre class="language-typescript"><code class="language-typescript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> TakeNotes<span class="token punctuation">,</span> Note<span class="token punctuation">,</span> Notepad <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token comment">// example interface describing the notes stored in the Notepad</span>
<span class="token keyword">interface</span> <span class="token class-name">MyNotes</span> <span class="token punctuation">{</span>
  credentials<span class="token operator">:</span> <span class="token punctuation">{</span>
    username<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    password<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Leonard'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
    TakeNotes<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>Notepad<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">empty</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
</code></pre>
<p>You can then record and retrieve notes using <code>Notepad.notes&lt;T&gt;()</code>, or a convenient alias - <code>notes&lt;T&gt;()</code>, which replaced <code>Note</code>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Log<span class="token punctuation">,</span> Notepad<span class="token punctuation">,</span> notes<span class="token punctuation">,</span> TakeNotes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Leonard'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
    TakeNotes<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>Notepad<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">empty</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    <span class="token generic-function"><span class="token function">notes</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'credentials'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token string">'leonard@example.org'</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token string">'P@ssw0rd!'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Log<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span>
        <span class="token generic-function"><span class="token function">notes</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'credentials'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>username    <span class="token comment">// note that `username` is a QuestionAdapter&lt;string&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
</code></pre>
<p>While you can still initialise the ability to <code>TakeNotes.usingAnEmptyNotepad()</code> (which is an alias for <code>TakeNotes.using(Notepad.empty())</code>), you can now also provide an initial state:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Note<span class="token punctuation">,</span> Notepad<span class="token punctuation">,</span> TakeNotes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Leonard'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
    TakeNotes<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>
      Notepad<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">with</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        credentials<span class="token operator">:</span> <span class="token punctuation">{</span>
          username<span class="token operator">:</span> <span class="token string">'leonard@example.org'</span><span class="token punctuation">,</span> 
          password<span class="token operator">:</span> <span class="token string">'SuperSecretP@ssword1'</span><span class="token punctuation">,</span> 
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
</code></pre>
<p>The factory method <code>TakeNotes.usingASharedNotepad()</code> has been removed, so if you'd like the actors to share notes, you'll need to give them the same instance of the Notepad to work with:</p>
<pre class="language-typescript"><code class="language-typescript"> <span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> Cast<span class="token punctuation">,</span> Notepad<span class="token punctuation">,</span> TakeNotes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

 <span class="token keyword">interface</span> <span class="token class-name">AuthCredentials</span> <span class="token punctuation">{</span>
     username<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
     password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 
 <span class="token keyword">interface</span> <span class="token class-name">MyNotes</span> <span class="token punctuation">{</span>
     credentials<span class="token operator">:</span> AuthCredentials<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>

     <span class="token comment">// initialise a shared notepad when the Actors class is initialised</span>
     <span class="token keyword">private</span> <span class="token keyword">readonly</span> sharedNotepad <span class="token operator">=</span> Notepad<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">with</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
         credentials<span class="token operator">:</span> <span class="token punctuation">{</span>
             username<span class="token operator">:</span> <span class="token string">'test-user'</span><span class="token punctuation">,</span>
             password<span class="token operator">:</span> <span class="token string">'SuperSecretP@ssword!'</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
         <span class="token keyword">switch</span> <span class="token punctuation">(</span>actor<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">case</span> <span class="token string">'Alice'</span><span class="token operator">:</span>
           <span class="token keyword">case</span> <span class="token string">'Bob'</span><span class="token operator">:</span>
               <span class="token comment">// Alice and Bob should share notes</span>
               <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>TakeNotes<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sharedNotepad<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">default</span><span class="token operator">:</span>
               <span class="token comment">// other actors should have their own notepads</span>
              <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>TakeNotes<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>Notepad<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">empty</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre>
<p>Another improvement is that <code>notes&lt;T&gt;().get(noteName)</code> now returns a <code>QuestionAdapter</code>. The adapter creates a Screenplay Pattern-style proxy around the underlying value, so when you invoke its methods the adapter generates <code>Interaction</code>s and <code>Question</code>s as needed:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Log<span class="token punctuation">,</span> Notepad<span class="token punctuation">,</span> notes<span class="token punctuation">,</span> TakeNotes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Leonard'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
    TakeNotes<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>Notepad<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">empty</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    notes<span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'credentials'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
        username<span class="token operator">:</span> <span class="token string">'leonard@example.org'</span><span class="token punctuation">,</span>
        password<span class="token operator">:</span> <span class="token string">'SuperSecretP@ssword1'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Log<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span>
      <span class="token generic-function"><span class="token function">notes</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyNotes<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'credentials'</span><span class="token punctuation">)</span> <span class="token comment">// returns QuestionAdapter&lt;AuthCredentials&gt;</span>
        <span class="token punctuation">.</span>username                         <span class="token comment">// returns QuestionAdapter&lt;string&gt;  </span>
        <span class="token punctuation">.</span><span class="token function">toLocaleUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment">// proxies toLocaleUpperCase and generates an Interaction around it</span>
        <span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                        <span class="token comment">// proxies charAt and generates a proxy, etc.</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// emits "L"</span>
  <span class="token punctuation">)</span>
</code></pre>
<h3 id="using-an-untyped-notepad">Using an untyped Notepad</h3>
<p>If you don't want to use the typed notepad in the first steps of your migration, you can still use an untyped version:</p>
<pre class="language-typescript"><code class="language-typescript"> <span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> Cast<span class="token punctuation">,</span> Notepad<span class="token punctuation">,</span> TakeNotes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

 <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>

     <span class="token comment">// initialise an empty shared notepad when the Actors class is initialised</span>
     <span class="token keyword">private</span> <span class="token keyword">readonly</span> sharedNotepad <span class="token operator">=</span> Notepad<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
         <span class="token keyword">switch</span> <span class="token punctuation">(</span>actor<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">case</span> <span class="token string">'Alice'</span><span class="token operator">:</span>
           <span class="token keyword">case</span> <span class="token string">'Bob'</span><span class="token operator">:</span>
               <span class="token comment">// Alice and Bob should share notes</span>
               <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>TakeNotes<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sharedNotepad<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">default</span><span class="token operator">:</span>
               <span class="token comment">// other actors should have their own notepads</span>
              <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>TakeNotes<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>Notepad<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre>
<p>You can then record and retrieve notes using your subject of choice, defined using a <code>string</code>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Log<span class="token punctuation">,</span> Note <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    <span class="token function">notes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'shopping list item'</span><span class="token punctuation">,</span> <span class="token string">'milk'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Log<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span>
      <span class="token function">notes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'shopping list item'</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
</code></pre>
<p>The untyped flavour gives you access to <code>QuestionAdapter</code>s just like the typed version, however your text editor might not be able to provide you with as much support as it would if your notepad had been typed.</p>
<h2 id="serenity-jsassertions"><code>@serenity-js/assertions</code></h2>
<h3 id="property-removed"><code>property</code> removed</h3>
<p><code>property</code> helper function has been removed since it's no longer needed.</p>
<p><code>QuestionAdapter</code>, returned by <code>Question.about</code> creates a <code>Proxy</code> object around the returned value, which allows for methods and properties of the underlying object to be invoked on the <code>QuestionAdapter</code> itself, and the results of the invocation automatically converted into <code>Question</code> or <code>Interaction</code> so that they're compatible with other Serenity/JS interfaces.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">User</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  Question<span class="token punctuation">.</span><span class="token function">about</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> actor <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Question.about can return a static value or a Promise&lt;value&gt;,</span>
    <span class="token comment">// QuestionAdapter is compatible with both.</span>
    <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      handle<span class="token operator">:</span> <span class="token string">'@jan-molak'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<pre class="language-diff"><code class="language-diff">import { actorCalled } from '@serenity-js/core';
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> import { Ensure, equals, property } from '@serenity-js/assertions';
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { Ensure, equals } from '@serenity-js/assertions';
</span></span>
actorCalled('Alice').attemptsTo
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">  Ensure.that(User(), property('handle', equals('@jan-molak')))
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  Ensure.that(User().handle, equals('@jan-molak'))
</span></span>)
</code></pre>
<p><code>QuestionAdapter</code> also creates a <code>Proxy</code> object around the returned value, allowing for the properties and methods of the returned value to be invoked on the <code>QuestionAdapter</code> itself, and their return values to be wrapped in <code>Interaction</code> or <code>Question</code> automatically so that they're compatible with other Serenity/JS interfaces.</p>
<p>For example:</p>
<pre class="language-typescript"><code>Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span><span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'JAN'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="serenity-jsrest"><code>@serenity-js/rest</code></h2>
<h3 id="dynamicrecordaxiosrequestconfig-in-http-requests"><code>DynamicRecord&lt;AxiosRequestConfig&gt;</code> in HTTP requests</h3>
<p>All HTTP requests now accept dynamic <code>DynamicRecord&lt;AxiosRequestConfig&gt;</code>, which means you can now specify additional
HTTP request configuration using a configuration object with nested <code>Question</code>s, <code>QuestionAdapter</code>s and <code>Promise</code>s.</p>
<p>For example:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Send<span class="token punctuation">,</span> PostRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/rest'</span><span class="token punctuation">;</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'René'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Send<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span>
        PostRequest<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'/products/2'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'apple'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                headers<span class="token operator">:</span> <span class="token punctuation">{</span>
                    Authorization<span class="token operator">:</span> q<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> Question<span class="token punctuation">.</span><span class="token function">about</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> actor <span class="token operator">=&gt;</span> <span class="token string">'some-token'</span><span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> 
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
 sends a request with:
 
    headers: {
        Authorization: 'Bearer some-token',
    },
 */</span>
</code></pre>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text">
        <p><strong>PRO TIP:</strong>
            The code sample above uses <a href="/modules/core/function/index.html#static-function-q"><code>q</code></a>, 
    a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#tagged_templates">tagged template</a> 
    function converting a `string` template parameterised with <code>Question&lt;string | number&gt;</code> into a <code>QuestionAdapter&lt;string&gt;</code>. Useful when you need to quickly concatenate <code>string</code>`s and <code>Question&lt;string&gt;</code>
        </p>
    </div>
</div>

<h2 id="serenity-jscore"><code>@serenity-js/core</code></h2>
<h3 id="screenplay-style-dictionaryt">Screenplay-style <code>Dictionary&lt;T&gt;</code></h3>
<p>A new Screenplay-style data structure, <code>Dictionary&lt;T&gt;</code> will help you convert and merge plain JavaScript objects with nested <a href="/modules/core/typedef/index.html#static-typedef-Answerable%3CT%3E"><code>Answerable</code>s</a> into a <code>QuestionAdapter&lt;T&gt;</code>.</p>
<p>For example:</p>
<pre class="language-typescript"><code class="language-typescript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Send<span class="token punctuation">,</span> PostRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/rest'</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">AddProductRequestData</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span>       <span class="token builtin">string</span><span class="token punctuation">;</span>
    quantity<span class="token operator">:</span>   <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'René'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Send<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span>
        PostRequest<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'/products'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span>
                Dictionary<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">of</span><span class="token generic class-name"><span class="token operator">&lt;</span>AddProductRequestData<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    name<span class="token operator">:</span>       Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>someElement<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    quantity<span class="token operator">:</span>   Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>someOtherElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>To merge several objects, pass them to <code>Dictionary.of</code> as per the example below:</p>
<pre class="language-typescript"><code class="language-typescript">Dictionary<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">of</span><span class="token generic class-name"><span class="token operator">&lt;</span>AddProductRequestData<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>  
    <span class="token comment">// initial values</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'unknown'</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// overrides</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>someElement<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// other overrides</span>
    <span class="token punctuation">{</span> quantity<span class="token operator">:</span> Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>someOtherElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    
<span class="token punctuation">)</span>
</code></pre>
<p>Note that in the above code sample, the first object contains values for all the fields
required by AddProductRequestData interface. If not all the fields are required, make sure
to mark them as <a href="https://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties">optional</a>.</p>
<p>For example:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">AddProductRequestData</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span>       <span class="token builtin">string</span><span class="token punctuation">;</span>
    quantity<span class="token operator">?</span><span class="token operator">:</span>  <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// optional</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="more-coming-soon">More coming soon!</h2>
<div class="pro-tip">
    <div class="icon"><i class="fab fa-github"></i></div>
    <div class="text">
        <p> 
            More content is coming soon, so please follow Serenity/JS on Twitter to stay up to date!
            <a href="https://twitter.com/@SerenityJS" class="img-link">
                <img src="https://img.shields.io/twitter/follow/SerenityJS?style=social" alt="Follow SerenityJS on Twitter">
            </a>
        </p>
        <p>
            If you find our work useful and want to keep the new features coming, become a Serenity/JS GitHub Sponsor today!
        </p>
        <p>
            <a class="github-button" href="https://github.com/sponsors/serenity-js" data-icon="octicon-heart" data-size="large" aria-label="Sponsor Serenity/JS on GitHub">Sponsor</a></p>
        <p></p>
    </div>
</div>
</body></html>
                        </section>


                        <footer class="d-print-none">
                                <a class="previous" href="/handbook/release-notes/serenity-js-2.html">
                                    <i class="fa fa-chevron-left"></i>
                                    <span>Serenity/JS 2.0</span>
                                </a>
                                <a class="next" href="/handbook/thinking-in-serenity-js/index.html">
                                    <span>Thinking in Serenity/JS</span>
                                    <i class="fa fa-chevron-right"></i>
                                </a>
                        </footer>
                    </article>
                </div>
            </div>
        </div>
    </section>

</section>

<footer id="footer" class="ftr ftr-accent-2 text-center">
    <div class="container ftr-columns d-print-none">
        <div class="row">
            <div class="col-md-2 ml-auto col-sm-4">
                <h5 class="ftr-column-title ">Get started</h5>
                <ul class="ftr-column-list">
                    <li><a href="/handbook/">Serenity/JS Handbook</a></li>
                    <li><a href="/modules/">API docs</a></li>
                    <li><a href="https://github.com/serenity-js">Template projects</a></li>
                    <li><a href="https://github.com/serenity-js/serenity-js/tree/master/examples">Examples</a></li>
                </ul>
            </div>
            <div class="col-md-2 col-sm-4">
                <h5 class="ftr-column-title ">Support</h5>
                <ul class="ftr-column-list">
                    <li><a href="/support.html">Free Support</a></li>
                    <li><a href="/support.html#training-and-support-services">Training</a></li>
                    <li><a href="/support.html#training-and-support-services">Commercial support</a></li>
                    <li><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                    <li><a href="https://gitter.im/serenity-js/Lobby">Community Chat</a></li>
                </ul>
            </div>
            <div class="col-md-2 mr-auto col-sm-4">
                <h5 class="ftr-column-title">Developers</h5>
                <ul class="ftr-column-list">
                    <li><a href="/contributing.html">Contribute</a></li>
                    <li><a href="/changelog.html">Changelog</a></li>
                    <li><a href="/license.html">License</a></li>
                </ul>
            </div>
        </div>
        <div class="col-lg-6 mx-auto">
            <div class="ftr-column-list">
                <a class="github-button" href="https://github.com/sponsors/serenity-js" data-icon="octicon-heart" data-size="large" aria-label="Sponsor Serenity/JS on GitHub">Sponsor</a>
                <a class="github-button" href="https://github.com/serenity-js/serenity-js" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star jan-molak/serenity-js on GitHub">Star</a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-6 mx-auto ftr-bt ftr-oneline ">
                Made with love in London, UK &copy; 2016 - 2022 <a href="https://janmolak.com" target="_blank">Jan Molak</a>, smartcode ltd.
            </div>
        </div>
    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
        integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"
        integrity="sha256-m1eTvwEHwmsw4+XKF7BshClVJEPwTVycveNl0CS0Mkk="
        crossorigin="anonymous"></script>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<script src="/js/charming-pro.js"></script>

<script src="/js/search_index_initialiser.js"></script>
<script src="/js/inherited-summary.js"></script>
<script src="/js/test-summary.js"></script>
<script src="/js/patch-for-local.js"></script>
<script src="/js/external-links.js"></script>

<script>
    anchors.add('article h1, article h2, article h3, article h4');
</script>

<script type="text/javascript" id="cookieinfo"
        src="//cookieinfoscript.com/js/cookieinfo.min.js"
        data-message="We use analytical cookies to optimise the performance of this website. By continuing to use this site you agree to help us make it better for everyone."
        data-close-text="Got it!"
>
</script>

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
        securityLevel: 'loose',
        // theme: 'default',
        flowchart: {
            useMaxWidth: true,
            htmlLabels: true,
        },
        themeVariables: {
            // primaryColor: '#ffffff',
            // primaryBorderColor: '#373a3c',
            fontFamily: '"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace !important',
            defaultLinkColor: '#c1c1ff',
            edgeLabelBackground: '#fff',
        }
    });
</script>
</body>
</html>
