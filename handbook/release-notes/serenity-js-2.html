<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-85788349-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-85788349-2');
    </script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "8d0y8ip2in");
    </script>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,900,700,400italic" rel="stylesheet">
    <title>Serenity/JS 2.0 | Serenity/JS</title>
    <meta property="og:title" content="Serenity/JS 2.0 | Serenity/JS"/>
    <meta property="og:description" content="Full-stack acceptance testing with Serenity/JS"/>
    <meta property="og:image" content="https://serenity-js.org/images/serenity-js-banner.png"/>
    <meta property="og:url" content="https://serenity-js.org/handbook/release-notes/serenity-js-2.html"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/icons/site.webmanifest">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/css/charming-pro-serenity-js.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css"
          integrity="sha256-AJfZWudfDWpFpIZ3USExGYDGwsYz47IgfEQCiGTm4wQ=" crossorigin="anonymous">
</head>
<body>

<div id="top"
        class="block block-dark block-bb bg-gradient-accent-2 p-0 d-print-none">
    <div class="container">
        <nav id="web-nav" class="web-nav web-nav-light">
            <header>
                <a href="/" class="serenity-js-logo">
                    <svg width="190px" height="42px" viewBox="0 0 1077 243" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
                        <path class="logo-accent" d="M295.133,157.626l22.342,0c1.571,12.567 6.633,23.04 27.753,23.04c13.789,0 23.563,-7.68 23.563,-19.2c0,-11.52 -5.76,-15.884 -26.007,-19.2c-29.847,-4.015 -43.985,-13.091 -43.985,-36.48c0,-20.422 17.454,-35.782 43.461,-35.782c26.881,0 42.938,12.219 45.382,36.131l-21.294,0c-2.27,-13.091 -9.775,-18.676 -24.088,-18.676c-14.138,0 -21.469,6.807 -21.469,16.407c0,10.123 4.19,15.186 25.833,18.327c29.323,4.015 44.509,12.393 44.509,37.353c0,21.643 -18.327,38.574 -45.905,38.574c-34.036,0 -48.35,-16.931 -50.095,-40.494" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M472.468,141.219c-1.048,-15.709 -9.077,-22.691 -22.168,-22.691c-12.741,0 -21.294,8.552 -23.389,22.691l45.557,0Zm-67.55,10.473l0,-1.397c0,-28.276 19.375,-47.127 45.382,-47.127c22.691,0 43.113,13.44 43.113,46.08l0,6.109l-66.851,0c0.698,17.28 9.426,27.054 25.135,27.054c12.742,0 19.375,-5.061 20.945,-13.963l20.422,0c-2.967,19.2 -18.502,29.672 -41.891,29.672c-26.88,0 -46.255,-17.629 -46.255,-46.428" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M513.481,105.088l14.487,0l0,16.407c5.761,-10.298 13.616,-17.454 30.023,-17.978l0,13.615c-18.327,0.872 -30.023,6.633 -30.023,29.148l0,50.095l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M637.754,141.917c-1.396,-18.851 -11.171,-26.356 -26.182,-26.356c-14.836,0 -24.785,10.124 -27.229,26.356l53.411,0Zm-68.945,9.774l0,-1.396c0,-27.578 17.629,-46.778 42.763,-46.778c21.12,0 41.019,12.742 41.019,45.381l0,4.713l-68.772,0c0.699,20.771 10.648,32.291 29.325,32.291c14.137,0 22.341,-5.236 24.261,-15.883l14.488,0c-3.143,18.327 -18.328,27.927 -38.924,27.927c-25.833,0 -44.16,-18.153 -44.16,-46.255" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M673.882,105.088l14.487,0l0,14.487c4.189,-8.552 14.313,-16.058 29.324,-16.058c18.85,0 32.116,10.299 32.116,36.829l0,56.029l-14.488,0l0,-57.076c0,-16.059 -6.806,-23.215 -21.468,-23.215c-13.441,0 -25.484,8.553 -25.484,24.96l0,55.331l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M772.733,105.088l14.486,0l0,91.287l-14.487,0l0,-91.287Zm-2.618,-28.626c0,-5.237 4.365,-9.6 9.601,-9.6c5.236,0 9.599,4.363 9.599,9.6c0,5.237 -4.363,9.6 -9.599,9.6c-5.236,0 -9.601,-4.363 -9.601,-9.6" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M819.16,173.51l0,-56.204l-13.091,0l0,-12.218l13.091,0l0,-20.77l14.487,0l0,20.77l21.294,0l0,12.218l-21.294,0l0,54.808c0,8.901 4.015,13.265 11.346,13.265c4.538,0 8.028,-0.698 11.171,-1.92l0,12.218c-2.968,1.047 -6.459,1.92 -12.394,1.92c-16.581,0 -24.61,-9.774 -24.61,-24.087" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M902.589,186.949l-35.782,-81.861l15.535,0l27.927,65.454l25.309,-65.454l14.836,0l-50.443,123.054l-14.662,0l17.28,-41.193Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M996.26,100.15l7.752,0l-22.728,69.537l-7.675,0l22.651,-69.537Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1002.35,157.646l0,-7.826c1.882,0.752 3.763,1.353 6.924,1.353c4.891,0 8.053,-2.558 8.053,-9.181l0,-37.252l10.084,0l0,37.478c0,11.664 -6.698,17.008 -16.632,17.008c-4.44,0 -6.698,-0.678 -8.429,-1.58" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1035.46,141.841l9.633,0c0.678,5.42 2.86,9.934 11.966,9.934c5.945,0 10.16,-3.311 10.16,-8.278c0,-4.967 -2.484,-6.847 -11.214,-8.277c-12.868,-1.733 -18.964,-5.645 -18.964,-15.729c0,-8.806 7.525,-15.427 18.738,-15.427c11.59,0 18.514,5.267 19.567,15.578l-9.181,0c-0.978,-5.645 -4.215,-8.053 -10.386,-8.053c-6.095,0 -9.256,2.934 -9.256,7.074c0,4.366 1.806,6.547 11.138,7.901c12.643,1.732 19.191,5.343 19.191,16.105c0,9.332 -7.903,16.633 -19.793,16.633c-14.675,0 -20.846,-7.301 -21.599,-17.461" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M152.636,121.232c0,17.344 -14.06,31.404 -31.404,31.404c-17.344,0 -31.405,-14.06 -31.405,-31.404c0,-17.344 14.061,-31.404 31.405,-31.404c17.344,0 31.404,14.06 31.404,31.404" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M230.534,68.726l-67.217,67.217l46.941,0c-7.045,42.781 -44.281,75.521 -89.026,75.521c-31.396,0 -59.086,-16.127 -75.255,-40.523l-22.286,22.287c22.081,29.866 57.547,49.236 97.541,49.236c66.955,0 121.232,-54.277 121.232,-121.232c0,-18.81 -4.284,-36.619 -11.93,-52.506m-198.328,37.796c7.045,-42.782 44.281,-75.522 89.026,-75.522c31.396,0 59.086,16.127 75.255,40.523l22.286,-22.286c-22.081,-29.867 -57.547,-49.237 -97.541,-49.237c-66.955,0 -121.232,54.278 -121.232,121.232c0,18.811 4.284,36.62 11.93,52.506l67.217,-67.216l-46.941,0Z" style="fill-rule:nonzero;"/>
                    </svg>
                </a>
        
                <a href="#!" class="web-nav-toggler">
                    <span class="fa fa-close"></span>
                    <span class="fa fa-bars"></span>
                </a>
            </header>
        
            <div class="web-nav-list">
                <a href="/handbook" class="web-nav-item">Handbook</a>
                <a href="/modules" class="web-nav-item">Modules</a>
                <a href="/changelog.html" class="web-nav-item">Changelog</a>
                <a href="/support.html" class="web-nav-item">Support</a>
                <a href="/community/sponsors.html" class="web-nav-item">Sponsors</a>
                <a href="https://twitter.com/SerenityJS" class="web-nav-item" title="Serenity/JS on Twitter">
                    <span class="d-block d-lg-none">@SerenityJS on Twitter</span><span class="fab fa-twitter d-none d-lg-inline"> </span>
                </a>
                <a href="https://www.youtube.com/channel/UC0RdeVPyjtJopVHvlLrXd1Q" class="web-nav-item" title="Serenity/JS on YouTube">
                    <span class="d-block d-lg-none">serenity-js on YouTube</span><span class="fab fa-youtube d-none d-lg-inline"> </span>
                </a>
                <a href="https://github.com/serenity-js" class="web-nav-item" title="Serenity/JS on GitHub">
                    <span class="d-block d-lg-none">Source code</span><span class="fab fa-github d-none d-lg-inline"> </span>
                </a>
            </div>
        
            <div id="web-nav-mobile-indicator"><!-- this signals to the javascript if the navigation is mobile or not --></div>
        </nav>
    </div>

    <div class="announcement" role="banner">
        👋 CSS? XPath? Or data-test-id? Help make Serenity/JS selectors better by answering <strong><a href="https://forms.gle/CGebfBPwKJQHkXr69">3 short questions</a></strong>!
    </div>
</div>

<section id="handbook">
    <section>
        <div class="container">
            <div class="row">
                <aside id="sidebar" class="col-lg-3 col-md-12 d-print-none">
                    <nav class="toc navigation text-truncate" data-ice="nav">
                        <ul class="summary">
                                <li class="header"><a href="/handbook/index.html">Overview</a></li>
                                <li class="chapter"><a href="/handbook/why-serenityjs.html">Why Serenity/JS?</a></li>
                                <li class="chapter"><a href="/handbook/demo.html">Demo</a></li>
                                <li class="chapter"><a href="/handbook/about.html">About this book</a></li>
                                <li class="chapter"><a href="/support.html">Support</a></li>
                                <li class="chapter"><a href="/contributing.html">Contributing</a></li>
                                <li class="chapter"><a href="/license.html">License</a></li>
                                <li class="header"><a href="/handbook/release-notes/index.html">What&#x27;s new 🎁</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/versioning.html">Serenity/JS versioning</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/serenity-js-2.html">Serenity/JS 2.0</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/serenity-js-3.html">Serenity/JS 3.0 (RC)</a></li>
                                <li class="header"><a href="/handbook/thinking-in-serenity-js/index.html">Thinking in Serenity/JS</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/hello-serenity-js.html">Hello, Serenity/JS!</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/test-runners.html">Test Runners and Reporting</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/actors-and-asynchrony.html">Actors and Asynchrony</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/assertions.html">Assertions</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/testing-rest-apis.html">Testing REST APIs</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/testing-web-uis.html">Testing Web UIs</a></li>
                                <li class="header"><a href="/handbook/design/index.html">Design Guide</a></li>
                                <li class="chapter"><a href="/handbook/design/the-trouble-with-test-scripts.html">The trouble with test scripts</a></li>
                                <li class="chapter"><a href="/handbook/design/screenplay-pattern.html">The Screenplay Pattern</a></li>
                                <li class="chapter"><a href="/handbook/design/actors.html">Actors</a></li>
                                <li class="chapter"><a href="/handbook/design/abilities.html">Abilities</a></li>
                                <li class="chapter"><a href="/handbook/design/interactions.html">Interactions</a></li>
                                <li class="chapter"><a href="/handbook/design/tasks.html">Tasks</a></li>
                                <li class="chapter"><a href="/handbook/design/questions.html">Questions</a></li>
                                <li class="chapter"><a href="/handbook/design/errors.html">Errors</a></li>
                                <li class="header"><a href="/handbook/integration/index.html">Integration Guide</a></li>
                                <li class="chapter"><a href="/handbook/integration/architecture.html">Architecture</a></li>
                                <li class="chapter"><a href="/handbook/integration/runtime-dependencies.html">Runtime dependencies</a></li>
                                <li class="chapter"><a href="/handbook/integration/installation.html">Installation</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-cucumber.html">Integrating with Cucumber</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-jasmine.html">Integrating with Jasmine</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-mocha.html">Integrating with Mocha</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-protractor.html">Integrating with Protractor</a></li>
                                <li class="chapter"><a href="/handbook/integration/jira-and-other-issue-trackers.html">Jira and other issue trackers</a></li>
                                <li class="header"><a href="/handbook/reporting/index.html">Reporting</a></li>
                                <li class="chapter"><a href="/handbook/reporting/console-reporter.html">Console Reporter</a></li>
                                <li class="chapter"><a href="/handbook/reporting/serenity-bdd-reporter.html">Serenity BDD Reporter</a></li>
                                <li class="chapter"><a href="/handbook/reporting/artifact-archiver.html">Artifact Archiver</a></li>
                                <li class="chapter"><a href="/handbook/reporting/stream-reporter.html">Stream Reporter</a></li>
                                <li class="header"><a href="/community/index.html">Community</a></li>
                                <li class="chapter"><a href="/community/events-and-articles.html">Events and articles</a></li>
                                <li class="chapter"><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                        </ul>
                    </nav>
                </aside>

                <div class="col-lg-9 col-md-12">
                    <article class="content">
                        <nav class="article-tools">
                            <a href="https://github.com/serenity-js/serenity-js/edit/2.x/documentation/website/src/handbook/release-notes/serenity-js-2.md">
                                <i class="far fa-edit"></i> Edit on GitHub</a>
                        </nav>
                        <section class="github-markdown">
                            <html><head></head><body><h1 id="upgrading-to-serenityjs-20">Upgrading to Serenity/JS 2.0</h1>
<p>This guide will help you upgrade your existing Serenity/JS 1.x project to version 2 of the framework.</p>
<p>The upgrade path is relatively straightforward as the main Screenplay classes, such as <a href="/modules/core/class/src/screenplay/actor/Actor.ts~Actor.html"><code>Actor</code></a>, 
<a href="/modules/core/class/src/screenplay/Task.ts~Task.html"><code>Task</code></a>, <a href="/modules/core/class/src/screenplay/Interaction.ts~Interaction.html"><code>Interaction</code></a> and <a href="/modules/core/class/src/screenplay/Question.ts~Question.html"><code>Question</code></a> 
are backwards compatible. However, the latest version of Serenity/JS introduces a number of significant new features, which will give you an opportunity to simplify your existing code.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-hands-helping"></i></div>
    <div class="text">
        <h4>Need a hand?</h4>
        <p>
            If you'd like some help with the upgrade or a review of your code base - check out the <a href="/support.html">support options</a>.
        </p>
    </div>
</div>

<h2 id="project-templates-and-examples">Project templates and examples</h2>
<p>If you'd like to see Serenity/JS 2.0 in action, watch my talk on <a href="/handbook/demo.html">"Full-stack acceptance testing with Serenity/JS 2.0"</a>.</p>
<p>If you prefer to dive straight into the code, there are several <a href="https://github.com/serenity-js/serenity-js/tree/2.x/examples">example mini-projects</a> within the <a href="https://github.com/serenity-js/serenity-js">Serenity/JS main repo</a> that demonstrate some of the major features, as well as integrations and test runners the framework supports. </p>
<p>In particular, you might be interested to check out:</p>
<ul>
<li><a href="https://github.com/serenity-js/serenity-js/tree/2.x/examples/protractor-jasmine-todomvc"><code>protractor-jasmine-todomvc</code></a> - an example of a test suite interacting with the popular TodoMVC web app, and using Serenity/JS 2.0, Jasmine and Protractor,</li>
<li><a href="https://github.com/serenity-js/serenity-js/tree/2.x/examples/cucumber-rest-api-level-testing"><code>cucumber-rest-api-level-testing</code></a> - an example of a REST API-only test suite using Serenity/JS 2.0 and the latest version of Cucumber.js</li>
<li>there are also <a href="https://github.com/serenity-js/serenity-js/tree/2.x/examples">other projects</a>, so feel free to explore!</li>
</ul>
<p>If you're starting a new project, the easiest way to do it is to use one of the <a href="https://github.com/serenity-js/">Serenity/JS project templates</a> as the foundation.</p>
<p>The most popular templates include:</p>
<ul>
<li><a href="https://github.com/serenity-js/serenity-js-cucumber-protractor-template"><code>serenity-js-cucumber-protractor-template</code></a> - a boilerplate project with Serenity/JS 2.x, latest version of Cucumber.js and Protractor,</li>
<li><a href="https://github.com/serenity-js/serenity-js-jasmine-protractor-template"><code>serenity-js-jasmine-protractor-template</code></a> - a boilerplate project with Serenity/JS 2.x, Jasmine and Protractor.</li>
<li><a href="https://github.com/serenity-js/serenity-js-mocha-protractor-template"><code>serenity-js-mocha-protractor-template</code></a> - a boilerplate project with Serenity/JS 2.x, Mocha and Protractor.</li>
</ul>
<h2 id="a-modular-framework">A modular framework</h2>
<p>The two main <a href="https://github.com/serenity-js/serenity-js/tree/1.x">Serenity/JS 1.x</a> modules you have probably interacted with the most were <a href="https://www.npmjs.com/package/serenity-js"><code>serenity-js</code></a>, which contained the bulk of the framework, and <a href="https://www.npmjs.com/package/serenity-cli"><code>serenity-cli</code></a> - a wrapper around the <a href="https://github.com/serenity-bdd/serenity-cli">Serenity BDD CLI</a>, responsible for generating the <a href="https://serenity-bdd.github.io/theserenitybook/latest/living-documentation.html">HTML reports and living documentation</a>.</p>
<p> This design of the framework made it easier for you to add it as a dependency to your project. However, it also meant that as the framework grew over time and became more sophisticated, you might have had to depend on parts of it that you did not necessarily need. For example, why should you need a dependency on Protractor and WebDriver if you were only writing API tests? And why would you need an adapter for Mocha if you were only ever going to use Cucumber? The answers to those questions seem obvious now, but when I originally designed the framework back in 2016, I never expected how popular it would become and how many use cases you'd find for it, dear fellow engineers! :-)</p>
<p>But, several years and thousands of Serenity/JS installations later, the internal structure of Serenity/JS 2.0 is in stark contrast with what you would've found here before.</p>
<p>While <strong>almost all the public APIs</strong> you'd use in your tests <strong>remained intact</strong> to help you make the upgrade as easy as possible, internally Serenity/JS 2.x has been re-architected to become a full-stack acceptance testing framework. Most importantly, it now offers a <a href="/handbook/integration/architecture.html">modular, pluggable architecture</a> that you can extend to your needs to make your tests interact with <strong>any interface of your system</strong>, not just the Web and HTTP/REST APIs.</p>
<h3 id="new-dependencies">New dependencies</h3>
<p>The main consequence of those internal design changes is that the Serenity/JS framework is now distributed 
as a <strong>collection of NPM modules</strong> under the <a href="https://www.npmjs.com/search?q=%40serenity-js"><code>@serenity-js/*</code> namespace</a>.</p>
<p>While this distribution model requires you to think a little bit more about what parts of the framework you'll actually need for your project, it also makes the overall design much easier for you to extend and the framework itself more lightweight. Check out <a href="/modules/">the modules page</a> to see what official Serenity/JS modules are currently available. </p>
<p>So, assuming that your Serenity/JS 1.x-based project interacted with the Web interface of your system (after all, that was the most common use case), the first thing you'll need to do is to add the following Serenity/JS 2.x modules to the <a href="https://docs.npmjs.com/files/package.json#dependencies"><code>dependencies</code></a> or <a href="https://docs.npmjs.com/files/package.json#devdependencies"><code>devDependencies</code></a> section of your <code>packages.json</code>:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token string-property property">"@serenity-js/assertions"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"@serenity-js/console-reporter"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"@serenity-js/core"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"@serenity-js/protractor"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"@serenity-js/rest"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"@serenity-js/serenity-bdd"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span>
</code></pre>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text">
        <h4>Semantic versioning</h4>
        <p>
            Serenity/JS uses <a href="https://semver.org/">semantic versioning</a> and we take semantic versioning, as well as backwards compatibility and deprecations <a href="/handbook/integration/versioning.html">very seriously</a>. This means that the best way for you to stay up-to-date with all the latest features and patches is to set the version of <code>@serenity-js/*</code> modules you depend on to <code>"^2.0.0"</code>.
        </p>
        <p>
            However, if you'd prefer to stay on a fixed version instead, you can find out the latest available version by visiting the <a href="https://github.com/serenity-js/serenity-js/releases">releases page</a>.
        </p>
    </div>
</div>

<p>Since test runner adapters are no longer part of the core framework but instead live in their own independent modules, the next thing you'll need to do is to pick such adapter for your test runner of choice.</p>
<p>For example, if you were using Serenity/JS with Cucumber, you'll need the <a href="/modules/cucumber">Serenity/JS Cucumber adapter</a>:</p>
<pre class="language-typescript"><code><span class="token string-property property">"@serenity-js/cucumber"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>
</code></pre>
<p>If you were using <code>mocha</code>, you can continue to do so by using <a href="/modules/mocha"><code>@serenity-js/mocha</code></a> adapter and a recent version of <a href="https://mochajs.org/"><code>mocha</code></a> itself:</p>
<pre class="language-typescript"><code><span class="token string-property property">"@serenity-js/mocha"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"mocha"</span><span class="token operator">:</span> <span class="token string">"^8.0.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"@types/mocha"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
</code></pre>
<p>Alternatively, you can also switch to <a href="/modules/jasmine"><code>jasmine</code></a> if you prefer that test runner:</p>
<pre class="language-typescript"><code><span class="token string-property property">"@serenity-js/jasmine"</span><span class="token operator">:</span> <span class="token string">"^2.0.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"jasmine"</span><span class="token operator">:</span> <span class="token string">"^3.5.0"</span><span class="token punctuation">,</span>
<span class="token string-property property">"@types/jasmine"</span><span class="token operator">:</span> <span class="token string">"^3.5.10"</span><span class="token punctuation">,</span>
</code></pre>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text">
        <h4>Mocha vs Jasmine</h4>
        <p>
            Both Mocha and Jasmine offer nearly identical <code>describe</code> and <code>it</code> APIs, and since Serenity/JS 2.0 offers its own <a href="/modules/assertions">assertions library</a>, you're unlikely to see much difference between the two test runners in this respect.
        </p>
        <p>
            The main reason why you'd want to use Jasmine instead of Mocha is if you're already using it in your project, for example to run your unit tests, and want to avoid additional dependencies.
        </p>
        <p>
            The main reason why you'd want to use Mocha instead of Jasmine is if you wanted a smaller test runner or needed to be able to <a href="https://mochajs.org/#retry-tests">automatically retry</a> failed tests. Plus, Jasmine still has a problem where a failing <code>beforeEach</code> and <code>beforeAll</code> hook doesn't prevent the rest of the test from executing (see <a href="https://github.com/jasmine/jasmine/issues/577"><code>#577</code></a> and <a href="https://github.com/jasmine/jasmine/issues/1533"><code>#1533</code></a>).
        </p>
    </div>
</div>

<h3 id="obsolete-dependencies">Obsolete dependencies</h3>
<p>There's a number of libraries that Serenity/JS used to depend on that you won't need anymore with version 2.0 of the framework. </p>
<p>In particular:</p>
<ul>
<li><a href="https://www.chaijs.com/"><code>chai</code></a> is no longer needed as it's been superseded by <a href="/modules/assertions/"><code>@serenity-js/assertions</code></a>, </li>
<li><code>serenity-cli</code> has been merged with other code that enables integration of Serenity/JS and Serenity BDD and is available as <a href="/modules/serenity-bdd"><code>@serenity-js/serenity-bdd</code></a>.</li>
</ul>
<p>All the above means that you can remove the following entries from the <a href="https://docs.npmjs.com/files/package.json#dependencies"><code>dependencies</code></a> or <a href="https://docs.npmjs.com/files/package.json#devdependencies"><code>devDependencies</code></a> section of your <code>packages.json</code>: </p>
<pre class="language-javascript"><code class="language-javascript"><span class="token string-property property">"@types/chai"</span><span class="token operator">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
<span class="token string-property property">"@types/chai-as-promised"</span><span class="token operator">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
<span class="token string-property property">"chai"</span><span class="token operator">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
<span class="token string-property property">"chai-as-promised"</span><span class="token operator">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
<span class="token string-property property">"chai-smoothie"</span><span class="token operator">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
<span class="token string-property property">"serenity-cli"</span><span class="token operator">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
<span class="token string-property property">"serenity-js"</span><span class="token operator">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
</code></pre>
<h3 id="updated-scripts">Updated scripts</h3>
<p>In Serenity/JS 2.0, the old <code>serenity-cli</code> module that used to provide a wrapper around Serenity BDD CLI, has been merged with other code integrating Serenity/JS with Serenity BDD and is now available as <a href="/modules/serenity-bdd"><code>@serenity-js/serenity-bdd</code></a>.</p>
<p>This new module ships with a new command you can use to download the Serenity BDD CLI <code>jar</code>. This means that any of the <code>pretest</code> or <code>postinstall</code> scripts defined in your <code>package.json</code> that used to call <code>serenity update</code> should be changed to call <code>serenity-bdd update</code> instead.</p>
<h5 id="before">Before</h5>
<pre class="language-json"><code class="language-json"><span class="token property">"postinstall"</span><span class="token operator">:</span> <span class="token string">"serenity update --ignoreSSL"</span><span class="token punctuation">,</span>
</code></pre>
<h5 id="after">After</h5>
<pre class="language-json"><code class="language-json"><span class="token property">"postinstall"</span><span class="token operator">:</span> <span class="token string">"serenity-bdd update --ignoreSSL"</span><span class="token punctuation">,</span> 
</code></pre>
<p>Learn more about <a href="/modules/serenity-bdd"><code>@serenity-js/serenity-bdd</code></a>.</p>
<h3 id="updated-imports">Updated imports</h3>
<p>In Serenity/JS 1.x, all the core and Protractor-specific APIs you'd use in your tests were made available via the <code>serenity-js</code> module. It was also common to import them either from <code>serenity-js/lib/serenity-protractor</code>, or its alias <code>serenity-js/protractor</code>, for example:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Task<span class="token punctuation">,</span> Click<span class="token punctuation">,</span> Enter<span class="token punctuation">,</span> <span class="token comment">/** etc. **/</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Task<span class="token punctuation">,</span> Click<span class="token punctuation">,</span> Enter<span class="token punctuation">,</span> <span class="token comment">/** etc.  **/</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/lib/serenity-protractor'</span><span class="token punctuation">;</span>
</code></pre>
<p>Another approach some engineers chose to use in their custom <code>Task</code> and <code>Interaction</code> classes was to import the Serenity/JS Screenplay Pattern APIs directly from <code>@serenity-js/core/lib/screenplay</code> or its alias <code>serenity-js/lib/screenplay</code>, for example:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Task<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> Actor<span class="token punctuation">,</span> <span class="token comment">/** etc **/</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core/lib/screenplay'</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Task<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> Actor<span class="token punctuation">,</span> <span class="token comment">/** etc **/</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/lib/screenplay'</span><span class="token punctuation">;</span>
</code></pre>
<p>Because of its <a href="/handbook/integration/architecture.html">modular architecture</a>, the nature of Serenity/JS 2.x imports has changed as well.</p>
<p>If your source files import <strong>core Screenplay types</strong> such as <code>Task</code>, <code>Actor</code>, <code>Interaction</code>, <code>Question</code> or <code>Ability</code> from <code>serenity-js/lib/screenplay-protractor</code>, they should now do so from <a href="/modules/core"><code>@serenity-js/core</code></a>.</p>
<p>All the other <strong>Protractor-specific types</strong>, such as <code>Click</code>, <code>Enter</code>, etc. can be imported from the <a href="@serenity-js/protractor"><code>@serenity-js/protractor</code></a> module:</p>
<h5 id="before-1">Before</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> 
    Actor<span class="token punctuation">,</span> Task<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> Click<span class="token punctuation">,</span> Enter<span class="token punctuation">,</span> BrowseTheWeb<span class="token punctuation">,</span> <span class="token comment">/** etc. **/</span> 
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
    Actor<span class="token punctuation">,</span> Task<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> Click<span class="token punctuation">,</span> Enter<span class="token punctuation">,</span> BrowseTheWeb<span class="token punctuation">,</span> <span class="token comment">/** etc.  **/</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/lib/serenity-protractor'</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="after-1">After</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// core Screenplay APIs:</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Task<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> Actor<span class="token punctuation">,</span> <span class="token comment">/** etc **/</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token comment">// Protractor-specific APIs:</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Click<span class="token punctuation">,</span> Enter<span class="token punctuation">,</span> BrowseTheWeb<span class="token punctuation">,</span> <span class="token comment">/** etc **/</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="find-and-replace">Find and replace</h4>
<p>You'll most likely have to change many of the imports used in your code base by manually editing the code as per the above instructions. However, if you used one of the more specific imports, such as the ones in the <code>before</code> column in the table below, you might simplify the process by using the "replace all" / "replace in path" function in your IDE to quickly make those changes across all your source files.</p>
<table>
<thead>
<tr>
<th>before (1.x)</th>
<th>after (2.x)</th>
</tr>
</thead>
<tbody><tr>
<td><code>serenity-js/lib/serenity-protractor</code></td>
<td><code>@serenity-js/protractor</code></td>
</tr>
<tr>
<td><code>serenity-js/lib/screenplay</code></td>
<td><code>@serenity-js/core</code></td>
</tr>
<tr>
<td><code>@serenity-js/core/lib/screenplay</code></td>
<td><code>@serenity-js/core</code></td>
</tr>
</tbody></table>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text">
        <h4>Project-level "find and replace"</h4>
        <p>
            To find out more about replacing multiple occurrences of a given string in your project, consult your IDE's manual.
        </p>
        <p>
            For example, here's how you'd do it in <a href="https://www.jetbrains.com/help/webstorm/finding-and-replacing-text-in-project.html">WebStorm</a>, <a href="https://www.jetbrains.com/help/go/finding-and-replacing-text-in-project.html">IntelliJ</a>, and <a href="https://code.visualstudio.com/Docs/editor/codebasics">Visual Studio Code</a>.
        </p>
    </div>
</div>

<h2 id="configuration">Configuration</h2>
<p>Serenity/JS 2.x is a full-stack acceptance testing framework and can be used with or without a web browser. However, since the most common use case for Serenity/JS 1.x was to <strong>run Web-based tests via Protractor</strong>, in this guide I'll focus on upgrading this particular setup.</p>
<p>To learn more about configuring a test runner that <strong>doesn't use</strong> Protractor, check out the documentation for the <a href="/modules">Serenity/JS module</a> you're interested in, for example the <a href="/modules/cucumber">Cucumber</a>, <a href="/modules/jasmine">Jasmine</a>, or <a href="/modules/mocha">Mocha</a> adapters. </p>
<h3 id="protractor">Protractor</h3>
<p>Serenity/JS 1.x bundled the various reporting services, a.k.a. the <a href="modules/core/class/src/stage/StageCrewMember.ts~StageCrewMember.html"><code>StageCrewMember</code>s</a>, in the <code>serenity-js</code> module, which made it easier to import them in your <code>protractor.conf.js</code> file.</p>
<p>In Serenity/JS 2.x, the <a href="/modules/core/class/src/stage/StageCrewMember.ts~StageCrewMember.html"><code>StageCrewMember</code>s</a> are bundled together with other code supporting given integration, i.e. <a href="/modules/protractor"><code>@serenity-js/protractor</code></a> or <a href="/modules/serenity-bdd"><code>@serenity-js/serenity-bdd</code></a>, or have their own standalone modules, i.e. <a href="/modules/console-reporter"><code>@serenity-js/console-reporter</code></a>.</p>
<p>The new <a href="/modules/core/class/src/stage/StageCrewMember.ts~StageCrewMember.html"><code>StageCrewMember</code>s</a> also no longer rely on the file system, as they used to in Serenity/JS 1.x. Instead, they delegate the responsibility of storing the artifacts they generate (such as screenshots, test reports, and so on) on disk to the <a href="/modules/core/class/src/stage/crew/artifact-archiver/ArtifactArchiver.ts~ArtifactArchiver.html"><code>ArtifactArchiver</code></a>.</p>
<p>The above changes mean that the imports in a typical <code>protractor.conf.js</code> file will need to change as follows: </p>
<h5 id="before-2">Before</h5>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// protractor.conf.js</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span>
  consoleReporter<span class="token punctuation">,</span>
  serenityBDDReporter<span class="token punctuation">,</span>
  photographer<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'serenity-js/lib/stage_crew'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="after-2">After</h5>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// protractor.conf.js</span>

<span class="token keyword">const</span> 
  <span class="token punctuation">{</span> ConsoleReporter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@serenity-js/console-reporter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> ArtifactArchiver <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@serenity-js/core"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> Photographer<span class="token punctuation">,</span> TakePhotosOfInteractions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> SerenityBDDReporter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@serenity-js/serenity-bdd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Once you have imported the new <code>StageCrewMember</code>s, you can tell the framework to use them
using syntax similar to version 1.x, as per the code sample below.</p>
<p>The main difference, though, is that since the core framework no longer depends on Protractor, instead of configuring the <code>frameworkPath</code> parameter to point at <code>require.resolve('serenity-js')</code>, you'll now point it at <code>require.resolve('@serenity-js/protractor/adapter')</code>:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// protractor.conf.js</span>

<span class="token comment">// Serenity/JS imports</span>
<span class="token keyword">const</span> 
  <span class="token punctuation">{</span> ConsoleReporter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@serenity-js/console-reporter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> ArtifactArchiver <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@serenity-js/core"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> Photographer<span class="token punctuation">,</span> TakePhotosOfFailures <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> SerenityBDDReporter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@serenity-js/serenity-bdd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>config <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment">// Serenity/JS config</span>
    <span class="token literal-property property">framework</span><span class="token operator">:</span>      <span class="token string">'custom'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">frameworkPath</span><span class="token operator">:</span>  require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'@serenity-js/protractor/adapter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token literal-property property">serenity</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">crew</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            ArtifactArchiver<span class="token punctuation">.</span><span class="token function">storingArtifactsAt</span><span class="token punctuation">(</span><span class="token string">"./target/site/serenity"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            Photographer<span class="token punctuation">.</span><span class="token function">whoWill</span><span class="token punctuation">(</span>TakePhotosOfFailures<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">SerenityBDDReporter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            ConsoleReporter<span class="token punctuation">.</span><span class="token function">withDefaultColourSupport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// Test runner config [...]</span>

    <span class="token comment">// Other Protractor config [...]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Learn more about the stage crew:</p>
<ul>
<li><a href="/modules/console-reporter/"><code>ConsoleReporter</code></a></li>
<li><a href="/modules/protractor/class/src/stage/crew/photographer/Photographer.ts~Photographer.html"><code>Photographer</code></a></li>
<li><a href="/modules/serenity-bdd/"><code>SerenityBDDReporter</code></a></li>
<li><a href="/modules/core/class/src/stage/crew/artifact-archiver/ArtifactArchiver.ts~ArtifactArchiver.html"><code>ArtifactArchiver</code></a></li>
</ul>
<h4 id="upgrading-mocha">Upgrading Mocha</h4>
<p>Serenity/JS 2.x uses Mocha version 8 or newer, which has slightly different configuration options than version 5 that Serenity/JS 1.x supported. </p>
<p>Provided you have added a recent version of <a href="https://www.npmjs.com/package/mocha"><code>mocha</code></a> to you <code>package.json</code>, you can configure Protractor to use it as follows:</p>
<h5 id="before-3">Before</h5>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// protractor.conf.js</span>

<span class="token comment">// Serenity/JS imports [...]</span>

exports<span class="token punctuation">.</span>config <span class="token operator">=</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// Serenity/JS config [...] </span>

    <span class="token comment">// Test runner config</span>
    <span class="token literal-property property">specs</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'spec/*.spec.ts'</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token literal-property property">mochaOpts</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">ui</span><span class="token operator">:</span> <span class="token string">'bdd'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">compiler</span><span class="token operator">:</span> <span class="token string">'ts:ts-node/register'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// Other Protractor config [...]</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="after-3">After</h5>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// protractor.conf.js</span>

<span class="token comment">// Serenity/JS imports [...]</span>

exports<span class="token punctuation">.</span>config <span class="token operator">=</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// Serenity/JS config [...] </span>

    <span class="token comment">// Test runner config</span>
    <span class="token literal-property property">specs</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'spec/*.spec.ts'</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token literal-property property">mochaOpts</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">require</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
            <span class="token string">'ts-node/register'</span><span class="token punctuation">,</span>
            <span class="token string">'spec/setup.ts'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// Other Protractor config [...]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Please note</strong> that the above config instructs Mocha to load a <code>setup.ts</code> file located at <code>spec/setup.ts</code>.
While this is not mandatory, you can use a setup file like that to further configure Mocha and Serenity/JS to your needs.
I'll explain it in more depth in the next section.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text">
        <h4>I'd still rather use Jest, or Ava, or Karma...</h4>
        <p>
            Sure thing, and we'd love to support it! However, with limited time and virtually unlimited possibilities for extending Serenity/JS, we have to be very strict about our priorities.
        </p>
        <p>
            If you'd like to see Serenity/JS support your favourity test runner, please <a href="https://github.com/serenity-js/serenity-js/issues">raise a ticket</a> or give a <i class="fas fa-thumbs-up"></i> thumbs up  to an existing proposal.
        </p>
        <p>
            Also, please consider <a href="/support.html">becoming our GitHub Sponsor</a> to help the Serenity/JS team secure more time on the project to support more integrations.
        </p>
    </div>
</div>

<h4 id="cucumber">Cucumber</h4>
<p>While Serenity/JS supported Cucumber.js version 1.3.3, Serenity/JS 2.x supports all the versions of Cucumber.js from 0.x to 6.x. </p>
<p>Provided you have added <a href="https://www.npmjs.com/package/cucumber"><code>cucumber</code></a> to you <code>package.json</code>, you can configure Protractor to use it as follows:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// protractor.conf.js</span>

<span class="token comment">// Serenity/JS imports [...]</span>

exports<span class="token punctuation">.</span>config <span class="token operator">=</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// Serenity/JS config [...] </span>

    <span class="token comment">// Test runner config</span>
    <span class="token literal-property property">specs</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'features/*.feature'</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token literal-property property">cucumberOpts</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">require</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'features/step_definitions/**/*.ts'</span><span class="token punctuation">,</span>
            <span class="token string">'features/support/setup.ts'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">'require-module'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'ts-node/register'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">tags</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// Other Protractor config [...]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Please note</strong> that the above config instructs Cucumber.js to load a <code>setup.ts</code> file located at <code>features/support/setup.ts</code>.
While this is not mandatory, you can use a setup file like that to further configure Cucumber.js and Serenity/JS to your needs. I'll explain it in more depth in the next section.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text">
        <h4>Cucumber without Protractor</h4>
        <p>
            If you'd like to use Serenity/JS with Cucumber but without Protractor, i.e. for non-Web testing, have a look
            at the documentation of the <a href="/modules/cucumber/"><code>@serenity-js/cucumber</code></a> module. 
        </p>
    </div>
</div>

<h2 id="actors-and-the-stage">Actors and the Stage</h2>
<p>Now that you know how to configure the Serenity/JS 2.x framework, it's time to look at how to upgrade your existing tests to
take advantage of the new features.</p>
<p>One of the important changes that Serenity/JS 2.x brings to the table is in how it simplifies the way you create, manage and access the <a href="/modules/core/class/src/screenplay/actor/Actor.ts~Actor.html"><code>Actor</code>s</a>, the cornerstone of the <a href="/handbook/thinking-in-serenity-js/screenplay-pattern.html">Screenplay Pattern</a>.</p>
<p>In Serenity/JS 1.x you had to instantiate the <code>Stage</code> where whe <code>Actor</code>s would perform, and make sure that it's accessible in your tests.</p>
<p>For example, if you were using Cucumber, you'd first define a <code>Cast</code> of <code>Actors</code>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/support/Actors.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> BrowseTheWeb<span class="token punctuation">,</span> Cast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/lib/screenplay-protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">actor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Actor<span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You'd then use a mechanism like Cucumber <a href="https://github.com/cucumber/cucumber-js/blob/1.x/docs/support_files/world.md"><code>World</code></a> to  tell Serenity/JS to instantiate the <code>Stage</code> and make it available in your test steps:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/support/world.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> serenity <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/lib/screenplay-protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Actors <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./Actors.ts'</span><span class="token punctuation">;</span>

<span class="token function-variable function">export</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">World</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stage <span class="token operator">=</span> serenity<span class="token punctuation">.</span><span class="token function">callToStageFor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Next, you'd access the <code>Actor</code> by invoking the <code>theActorCalled(name)</code> and <code>theActorInTheSpotlight()</code> APIs provided by the <code>Stage</code>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/step_definitions/steps.ts</span>
<span class="token function-variable function">export</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">Given</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*that (.*) has an empty todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>actorName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">theActorCalled</span><span class="token punctuation">(</span>actorName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// some tasks to perform...</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">When</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^she adds "(.*?)" to her todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>itemName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">theActorInTheSpotlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// some tasks to perform...</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>While the same general principle applies in version 2.x as well, the way you interact with the framework has
been simplified, so let me walk you through it step by step.</p>
<h3 id="changes-to-the-cast">Changes to the Cast</h3>
<p>Both Serenity/JS 1.x and 2.x provide a <a href="/modules/core/class/src/stage/Cast.ts~Cast.html"><code>Cast</code></a> interface
that needs to be implemented by the class responsible for providing the <code>Actor</code>s for your tests.</p>
<p>However, while Serenity/JS 1.x expected the <code>Cast</code> to instantiate the <code>Actor</code>s, version 2.x instantiates them for you.</p>
<p>All you need to do is to <code>prepare</code> the actors for the performance by giving them the <a href="/handbook/design/abilities.html"><code>Abilities</code></a>
they need:</p>
<h5 id="before-4">Before</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/support/Actors.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> BrowseTheWeb<span class="token punctuation">,</span> Cast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/lib/screenplay-protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">actor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Actor<span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="after-4">After</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/support/Actors.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> Cast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>              <span class="token comment">// `prepare(actor: Actor)` instead of `actor(name: string)`</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>                    <span class="token comment">// add the abilities instead of instantiating the actor</span>
            BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="you-dont-need-the-world">You don't need the World</h3>
<p>The second important difference is in how you tell Serenity/JS what actors to use.</p>
<p>In Serenity/JS 1.x you had to rely on Cucumber <a href="https://github.com/cucumber/cucumber-js/blob/1.x/docs/support_files/world.md"><code>World</code></a>
to set up the <code>Stage</code> and assign it to Cucumber context (<code>this</code>). </p>
<p>In version 2.x, Serenity/JS takes on the responsibility of managing the execution context, so all you need to do
is simply tell the framework what actors you want to <a href="/modules/core/function/index.html#static-function-engage"><code>engage</code></a>
before each scenario.</p>
<h5 id="before-cucumber-133-serenityjs-1x">Before (Cucumber 1.3.3, Serenity/JS 1.x)</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/support/world.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> serenity <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/lib/screenplay-protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Actors <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./Actors.ts'</span><span class="token punctuation">;</span>

<span class="token function-variable function">export</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">World</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stage <span class="token operator">=</span> serenity<span class="token punctuation">.</span><span class="token function">callToStageFor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="after-cucumber-133-serenityjs-2x">After (Cucumber 1.3.3, Serenity/JS 2.x)</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/support/setup.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> engage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Actors <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./Actors'</span><span class="token punctuation">;</span>

<span class="token function-variable function">export</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">Before</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">engage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="after-cucumber-6x-serenityjs-2x">After (Cucumber 6.x, Serenity/JS 2.x)</h5>
<p>If you decided to upgrade Cucumber to recent version at the same time you upgrade Serenity/JS, you could simplify the above setup code even further:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/support/setup.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> engage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Before <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cucumber'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Actors <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./Actors'</span><span class="token punctuation">;</span>

<span class="token function">Before</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">engage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="accessing-the-actors">Accessing the actors</h3>
<p>When using Cucumber without Serenity/JS, you use Cucumber <code>this</code> to manage state across multiple step definitions.
While this mechanism is quite convenient, it also requires you to use the full-blown <code>function</code> syntax since the simpler
arrow functions <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#No_separate_this">don't have a separate <code>this</code></a>. For this reason, Cucumber documentation encourages you to <a href="https://cucumber.io/docs/cucumber/api/#steps">avoid the arrow functions</a> altogether.</p>
<p>In version 2.0, Serenity/JS takes on the responsibility of managing state in your test scenarios, makes accessing the actors easier via <a href="/modules/core/function/index.html#static-function-actorCalled"><code>actorCalled</code></a> and <a href="/modules/core/function/index.html#static-function-actorInTheSpotlight"><code>actorInTheSpotlight</code></a>, and since it doesn't rely on Cucumber <code>this</code> - it allows you to use the convenient and compact arrow functions to help you simplify your code further.</p>
<h5 id="before-cucumber-133-serenityjs-1x-1">Before (Cucumber 1.3.3, Serenity/JS 1.x)</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/step_definitions/steps.ts</span>

<span class="token function-variable function">export</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">Given</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*that (.*) has an empty todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>actorName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">theActorCalled</span><span class="token punctuation">(</span>actorName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// some tasks to perform...</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">When</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^she adds "(.*?)" to her todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>itemName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">theActorInTheSpotlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// some tasks to perform...</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="after-cucumber-133-serenityjs-2x-1">After (Cucumber 1.3.3, Serenity/JS 2.x)</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/step_definitions/steps.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled<span class="token punctuation">,</span> actorInTheSpotlight <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token function-variable function">export</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">Given</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*that (.*) has an empty todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>actorName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">actorCalled</span><span class="token punctuation">(</span>actorName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// some tasks to perform...</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">When</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^she adds "(.*?)" to her todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>itemName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">actorInTheSpotlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// some tasks to perform...</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="after-cucumber-6x-serenityjs-2x-1">After (Cucumber 6.x, Serenity/JS 2.x)</h5>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/step_definitions/steps.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled<span class="token punctuation">,</span> actorInTheSpotlight <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Given<span class="token punctuation">,</span> When <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cucumber'</span><span class="token punctuation">;</span>

<span class="token function">Given</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*that (.*) has an empty todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>actorName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">actorCalled</span><span class="token punctuation">(</span>actorName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
        <span class="token comment">// some tasks to perform...</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token function">When</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^she adds "(.*?)" to her todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>itemName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">actorInTheSpotlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
        <span class="token comment">// some tasks to perform...</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5 id="after-cucumber-6x-serenityjs-2x-concise-body">After (Cucumber 6.x, Serenity/JS 2.x, concise body)</h5>
<p>If you want to take refactoring your step definitions even further, you could use arrow functions with a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#Function_body">"concise body"</a> and drop the <code>return</code> statements altogether: </p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// features/step_definitions/steps.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled<span class="token punctuation">,</span> actorInTheSpotlight <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Given<span class="token punctuation">,</span> When <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cucumber'</span><span class="token punctuation">;</span>

<span class="token function">Given</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*that (.*) has an empty todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>actorName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
    <span class="token function">actorCalled</span><span class="token punctuation">(</span>actorName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
        <span class="token comment">// some tasks to perform...</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token function">When</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^she adds "(.*?)" to her todo list$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>itemName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token function">actorInTheSpotlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
        <span class="token comment">// some tasks to perform...</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="actors-in-mocha-tests">Actors in Mocha tests</h3>
<p>The above-described mechanism for accessing the actors works regardless of the test runner you're using.</p>
<p>For example, this is how you could use the same strategy to implement a Mocha <code>setup.ts</code> file:  </p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/setup.ts</span>

<span class="token keyword">import</span> <span class="token string">'mocha'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> Cast<span class="token punctuation">,</span> engage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>              <span class="token comment">// `prepare(actor: Actor)` instead of `actor(name: string)`</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>                    <span class="token comment">// add the abilities instead of instantiating the actor</span>
            BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">engage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// the `beforeEach` can be defined either in spec/setup.ts</span>
                                                <span class="token comment">// or in each spec file. </span>
</code></pre>
<p>And a test using the Mocha test runner:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/example.spec.ts</span>

<span class="token keyword">import</span> <span class="token string">'mocha'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'some feature'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'has some behaviour'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
        <span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Jannice'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// some tasks to perform...</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="implementing-the-screenplay-pattern">Implementing the Screenplay Pattern</h2>
<h3 id="tasks">Tasks</h3>
<p>The best way to illustrate how the <code>Task</code> has evolved is by using a concrete example.</p>
<p>Consider a task to <code>AddAnItem</code> to an imaginary to-do list that we'd invoke as follows:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'Tasha'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    AddAnItem<span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token string">'Learn Serenity/JS'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In Serenity/JS 1.x, the task to <code>AddAnItem</code> could be implemented like this:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Enter<span class="token punctuation">,</span> step<span class="token punctuation">,</span> PerformsTasks<span class="token punctuation">,</span> Task <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Any custom task had to implement the `Task` interface
 */</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AddAnItem</span> <span class="token keyword">implements</span> <span class="token class-name">Task</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token function">called</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AddAnItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * The `performAs` method received an `actor` who `PerformsTasks`
     * and returned a `PromiseLike&lt;void&gt;`
     *
     * The `@step` decorator was responsible for generating 
     * a human-friendly description to be used in the report
     */</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">step</span></span><span class="token punctuation">(</span><span class="token string">'{0} adds an item called #name'</span><span class="token punctuation">)</span>
    <span class="token function">performAs</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> PerformsTasks<span class="token punctuation">)</span><span class="token operator">:</span> PromiseLike<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// The `attemptsTo` method invoked lower-level</span>
            <span class="token comment">// tasks and interactions, such as `Click`, `Enter`, etc.</span>
            Enter<span class="token punctuation">.</span><span class="token function">theValue</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token comment">/* some element */</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// ...</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
</code></pre>
<p>The same task implemented using the 2.x version would look as follows:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Task<span class="token punctuation">,</span> PerformsActivities <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Enter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AddAnItem</span> <span class="token keyword">extends</span> <span class="token class-name">Task</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">called</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AddAnItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
    
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">performAs</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> PerformsActivities<span class="token punctuation">)</span><span class="token operator">:</span> PromiseLike<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token comment">// ... list lower-level tasks and interactions:</span>
            Enter<span class="token punctuation">.</span><span class="token function">theValue</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token comment">/* some element */</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>   
    <span class="token punctuation">}</span>
    
    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor adds an item called </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>As you might have noticed, the above two code samples have several subtle differences:</p>
<ul>
<li>the imports are now more explicit, with all the Screenplay-specific types coming from <code>@serenity-js/core</code> and Protractor-specific ones from <code>@serenity-js/protractor</code>,</li>
<li>instead of implementing a <code>Task</code> interface, the custom task now <code>extend</code>s a base <code>Task</code> class; extending a base class helps Serenity/JS distinguish the different types of activities performed by the actor at runtime and, for example, to capture screenshots upon <code>Interaction</code>s, but not upon <code>Task</code>s,</li>
<li>the <code>@step</code> decorator is now superseded by a much more obvious <code>toString</code> method.</li>
</ul>
<p>Please note that you also have an opportunity here to take your refactoring further as Serenity/JS 2.x still provides you with a convenient 
<a href="/modules/core/class/src/screenplay/Task.ts~Task.html#static-method-where"><code>Task.where</code></a> factory method that can
generate the task from the above example with much less code:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Task <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Enter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>

exports <span class="token keyword">const</span> AddAnItem <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">called</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        Task<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor adds an item called </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token comment">// ... list lower-level tasks and interactions:</span>
            Enter<span class="token punctuation">.</span><span class="token function">theValue</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token comment">/* some element */</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>       
<span class="token punctuation">}</span>
</code></pre>
<h3 id="interactions">Interactions</h3>
<p>Interaction have undergone an overhaul similar to tasks.</p>
<p>Consider an example Serenity/JS 1.x interaction that enables a disabled input element by injecting some JavaScript
into the browser using Protractor's <a href="https://www.protractortest.org/#/api?view=webdriver.WebDriver.prototype.executeScript"><code>executeScript</code> API</a>, available via the ability to <code>BrowseTheWeb</code>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> step<span class="token punctuation">,</span> Target<span class="token punctuation">,</span> UsesAbilities <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Enable</span> <span class="token keyword">implements</span> <span class="token class-name">Interaction</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">the</span><span class="token punctuation">(</span>target<span class="token operator">:</span> Target<span class="token punctuation">)</span><span class="token operator">:</span> Enable <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Enable</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> target<span class="token operator">:</span> Target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token decorator"><span class="token at operator">@</span><span class="token function">step</span></span><span class="token punctuation">(</span><span class="token string">'{0} enables #target'</span><span class="token punctuation">)</span>
    <span class="token function">performAs</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> UsesAbilities<span class="token punctuation">)</span><span class="token operator">:</span> PromiseLike<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> BrowseTheWeb<span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span><span class="token punctuation">.</span>
            <span class="token function">executeScript</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">arguments[0].removeAttribute("disabled");</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Now, compare it with this 2.x implementation:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> AnswersQuestions<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> Question<span class="token punctuation">,</span> UsesAbilities <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElementFinder <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Enable</span> <span class="token keyword">extends</span> <span class="token class-name">Interaction</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">the</span><span class="token punctuation">(</span>target<span class="token operator">:</span> Question<span class="token operator">&lt;</span>ElementFinder<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Enable</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> target<span class="token operator">:</span> Question<span class="token operator">&lt;</span>ElementFinder<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">performAs</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> UsesAbilities <span class="token operator">&amp;</span> AnswersQuestions<span class="token punctuation">)</span><span class="token operator">:</span> PromiseLike<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">answeredBy</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>element <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> BrowseTheWeb<span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">executeScript</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">arguments[0].removeAttribute("disabled");</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor enables </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>target<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In Serenity/JS 2.x, a custom interaction:</p>
<ul>
<li>extends the base <code>Interaction</code> class,</li>
<li>is responsible for resolving any <code>Question</code>s (more on this and the difference between <code>Target</code> and <code>Question</code> later)</li>
<li>uses <code>toString</code> method rather than a <code>@step</code> decorator</li>
</ul>
<p>Similarly to the <code>Task</code>, the <code>Interaction</code> class provides a convenient factory method <a href="/modules/core/class/src/screenplay/Interaction.ts~Interaction.html#static-method-where"><code>Interaction.where</code></a> to make defining custom interactions
easier. For instance, the above code sample could be implemented as follows:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> AnswersQuestions<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> Question<span class="token punctuation">,</span> UsesAbilities <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElementFinder <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Enable <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">the</span><span class="token operator">:</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> Question<span class="token operator">&lt;</span>ElementFinder<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        Interaction<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor enables </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> target <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>actor<span class="token operator">:</span> UsesAbilities <span class="token operator">&amp;</span> AnswersQuestions<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> target<span class="token punctuation">.</span><span class="token function">answeredBy</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>element <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> BrowseTheWeb<span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">executeScript</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">arguments[0].removeAttribute("disabled");</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>PRO TIP</strong>: If you ever have the need to inject JavaScript into the UI of your system under test, please use the built-in
<a href="/modules/protractor/class/src/screenplay/interactions/execute-script/ExecuteScript.ts~ExecuteScript.html"><code>ExecuteScript</code></a>
interaction instead:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Question<span class="token punctuation">,</span> Task <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ExecuteScript <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Enable <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">the</span><span class="token operator">:</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> Question<span class="token operator">&lt;</span>ElementFinder<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        Task<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor enables </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> target <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            ExecuteScript<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">arguments[0].removeAttribute("disabled");</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>
                <span class="token function">withArguments</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">,</span> 
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="questions">Questions</h3>
<p>Apart from the main Screenplay Pattern interfaces, one of the most important and most commonly used classes in Serenity/JS 1.x was the <code>Target</code>.</p>
<p>The 1.x <code>Target</code> was a special class responsible for abstracting the way Protractor locates <code>WebElements</code>, or <a href="https://www.protractortest.org/#/api?view=ElementFinder"><code>ElementFinder</code>s</a> and <a href="https://www.protractortest.org/#/api?view=ElementArrayFinder"><code>ElementArrayFinder</code>s</a> in Protractor-speak.</p>
<p>However, unlike all the other classes responsible for retrieving information about the system under test, the <code>Target</code> <a href="https://github.com/serenity-js/serenity-js/blob/1.x/packages/serenity-js/src/serenity-protractor/screenplay/ui/target.ts#L5">was not considered a <code>Question</code></a>, as it could only be used with Protractor-specific interactions. </p>
<p>In Serenity/JS 2.x, the information retrieval mechanism is consistent across the board. This means that no matter whether you're retrieving a JSON body of the <a href="/modules/rest/class/src/screenplay/questions/LastResponse.ts~LastResponse.html#static-method-body">last REST response</a>, a <a href="modules/protractor/class/src/screenplay/questions/text/Text.ts~Text.html#static-method-of">text of a web element</a>, or <a href="/modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html">the web element itself</a>, they all implement the <a href="/modules/core/class/src/screenplay/Question.ts~Question.html"><code>Question</code></a> interface.</p>
<p>This means that Serenity/JS 2.x <a href="/modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html"><code>Target</code>s</a> can be injected into Protractor-specific <a href="/modules/protractor/identifiers.html#screenplay-interactions">interactions</a>, but also <a href="/modules/assertions">assertions</a> and <a href="/modules/protractor/class/src/screenplay/interactions/Wait.ts~Wait.html">test synchronisation methods</a>. You can also <a href="modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html">nest <code>Target</code>s</a>, therefore limiting the need for the problematic <code>XPath</code> selectors in your code base.</p>
<p>As you have probably already guessed, introducing this level of sophistication and flexibility required changing how the <code>Target</code> class works.</p>
<p>The original <code>Target</code> is now modelled by <a href="/modules/protractor/identifiers.html#screenplay-questions-targets">four specialised <code>Question</code> classes</a> and the <code>Target</code> class itself was turned into a factory that takes care of instantiating them correctly.</p>
<p>However, the way you use it has remained intact:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Target <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token comment">// simple lean page object</span>
<span class="token keyword">class</span> <span class="token class-name">ToDoListApp</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// Target.the captures a single element</span>
    <span class="token comment">// and produces Question&lt;ElementFinder&gt; </span>
    <span class="token keyword">static</span> header <span class="token operator">=</span> Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Target.all captures multiple elements</span>
    <span class="token comment">// and produces Question&lt;ElementArrayFinder&gt;</span>
    <span class="token keyword">static</span> items  <span class="token operator">=</span> Target<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'the items'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'#todolist li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>To learn more, check out the examples in the <a href="modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html">API docs of the <code>Target</code> class</a>.</p>
<h4 id="nested-targets">Nested Targets</h4>
<p>Serenity/JS 1.x provided a simple <code>Target.of</code> API that helped you replace parts of your locator dynamically during the test.</p>
<p>For example, you might have located a header of a table column using a <code>Target</code> defined as follows:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Target <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DataTable</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> Column_Header <span class="token operator">=</span> Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'column header'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">xpath</span><span class="token punctuation">(</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">//*[@id="data-table"]</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">//div[contains(@class, "ag-header-cell-label")]</span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">//span[text()[contains(.,"{0}")]]</span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You'd then configure such <code>Target</code> dynamically in your test scenario or task:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">SortBy</span> <span class="token operator">=</span> <span class="token punctuation">(</span>columnName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    Task<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor sorts the data by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> columnName <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        Click<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>
            DataTable<span class="token punctuation">.</span>Column_Header<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>columnName<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Serenity/JS 2.x allows you to nest <code>Target</code>s, which should help you get rid of some of those terrible <code>xpath</code> locators
from your codebase:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Target <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DataTable</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> component <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'data table component'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">'data-table'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> columnHeaders <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'column headers'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>DataTable<span class="token punctuation">.</span>component<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'.ag-header-cell-label'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>But what about picking a header with the right name?
This is where <a href="/modules/protractor/class/src/screenplay/questions/Pick.ts~Pick.html"><code>Pick</code></a> can help you:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Target <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> includes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DataTable</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> component <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'data table component'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">'data-table'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> columnHeaders <span class="token operator">=</span>
        Target<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">'column headers'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>DataTable<span class="token punctuation">.</span>component<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'.ag-header-cell-label'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token function-variable function">columnHeaderCalled</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        Pick<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">from</span><span class="token generic class-name"><span class="token operator">&lt;</span>ElementFinder<span class="token punctuation">,</span> ElementArrayFinder<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>DataTable<span class="token punctuation">.</span>columnHeaders<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>Text<span class="token punctuation">,</span> <span class="token function">includes</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>And then our <code>SortBy</code> task becomes:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">SortBy</span> <span class="token operator">=</span> <span class="token punctuation">(</span>columnName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    Task<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor sorts the data by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> columnName <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        Click<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>
            DataTable<span class="token punctuation">.</span><span class="token function">columnHeaderCalled</span><span class="token punctuation">(</span>columnName<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Learn more about <code>Pick</code> from its <a href="/modules/protractor/test-file/spec/screenplay/questions/Pick.spec.ts.html">unit tests</a>.</p>
<h4 id="targets-as-arguments">Targets as arguments</h4>
<p>Since the responsibilities of the 2.x <code>Target</code> differ from its predecessor, if you have written any custom <a href="/modules/core/class/src/screenplay/Activity.ts~Activity.html"><code>Activity</code></a> classes in your project where a <a href="/modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html"><code>Target</code></a> is passed as an argument (for example in a constructor or a method call), you'll need to change the signatures to receive a <code>Question&lt;ElementFinder&gt;</code> for single-element activities or <code>Question&lt;ElementArrayFinder&gt;</code> for multi-element activities.</p>
<p>Consider a hypothetical Serenity/JS 1.x interaction we discussed earlier, the one that enabled a disabled element:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> step<span class="token punctuation">,</span> Target<span class="token punctuation">,</span> UsesAbilities <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Enable</span> <span class="token keyword">implements</span> <span class="token class-name">Interaction</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">the</span><span class="token punctuation">(</span>target<span class="token operator">:</span> Target<span class="token punctuation">)</span><span class="token operator">:</span> Enable <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Enable</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> target<span class="token operator">:</span> Target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token decorator"><span class="token at operator">@</span><span class="token function">step</span></span><span class="token punctuation">(</span><span class="token string">'{0} enables #target'</span><span class="token punctuation">)</span>
    <span class="token function">performAs</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> UsesAbilities<span class="token punctuation">)</span><span class="token operator">:</span> PromiseLike<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> BrowseTheWeb<span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span><span class="token punctuation">.</span>
            <span class="token function">executeScript</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">arguments[0].removeAttribute("disabled");</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Since the above interaction accepts a single-element <code>Target</code>, it will need to change to accept
<code>Question&lt;ElementFinder&gt;</code> instead. </p>
<p>Additionally, its <code>performAs</code> method will now need to resolve (a.k.a. "answer") the question 
before passing the underlying <code>ElementFinder</code> to lower-level abilities and Protractor-specific 
method calls: </p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> AnswersQuestions<span class="token punctuation">,</span> Interaction<span class="token punctuation">,</span> Question<span class="token punctuation">,</span> UsesAbilities <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElementFinder <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Enable</span> <span class="token keyword">extends</span> <span class="token class-name">Interaction</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// Target -&gt; Question&lt;ElementFinder&gt;</span>
    <span class="token keyword">static</span> <span class="token function">the</span><span class="token punctuation">(</span>target<span class="token operator">:</span> Question<span class="token operator">&lt;</span>ElementFinder<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Enable</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Target -&gt; Question&lt;ElementFinder&gt;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> target<span class="token operator">:</span> Question<span class="token operator">&lt;</span>ElementFinder<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">performAs</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> UsesAbilities <span class="token operator">&amp;</span> AnswersQuestions<span class="token punctuation">)</span><span class="token operator">:</span> PromiseLike<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// the actor needs to answer the question</span>
        <span class="token comment">// so that it can pass a Protractor-specific</span>
        <span class="token comment">// ElementFinder object to BrowseTheWeb</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">answeredBy</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>element<span class="token operator">:</span> ElementFinder<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> BrowseTheWeb<span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span>actor<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">executeScript</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">arguments[0].removeAttribute("disabled");</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor enables </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>target<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Similarly, if your custom <code>Activity</code> used to receive a product of the <code>Target.all(...)</code> call, so a multi-element <code>Target</code>, it will now need to change to receive <code>Question&lt;ElementArrayFinder&gt;</code>.</p>
<h2 id="assertions">Assertions</h2>
<p>Serenity/JS 1.x did not have its own assertions library. Instead, it provided an interaction to <code>See.if</code>
which you'd use to delegate the act of performing the actual assertion to a library like <a href="https://www.chaijs.com/">chai.js</a>, typically combined with plugins like <a href="https://www.npmjs.com/package/chai-as-promised"><code>chai-as-promised</code></a> and <a href="https://www.npmjs.com/package/chai-smoothie"><code>chai-smoothie</code></a>.</p>
<p>For example:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> See<span class="token punctuation">,</span> Target<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'serenity-js/lib/serenity-protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token comment">// import chai and chai-as-promised to assert on promises</span>
<span class="token keyword">import</span> chai <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'chai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> chaiAsPromised <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'chai-as-promised'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chai<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>chaiAsPromised<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> TodoListItems <span class="token operator">=</span> Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'items on the list'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'ul.todo-list li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

actor<span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    See<span class="token punctuation">.</span><span class="token function">if</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">ofAll</span><span class="token punctuation">(</span>TodoListItems<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>textOfItems<span class="token operator">:</span> PromiseLike<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token comment">// delegate the assertion to chai</span>
        chai<span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span>textOfItems<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>eventually<span class="token punctuation">.</span><span class="token function">contain</span><span class="token punctuation">(</span><span class="token string">'Buy some milk'</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>  
</code></pre>
<p>If you're happy with this model, Serenity/JS 2.x still ships with an interaction to <a href="/modules/core/class/src/screenplay/interactions/See.ts~See.html"><code>See.if</code></a>, which you can import from the <a href="/modules/core"><code>@serenity-js/core</code></a> module
and your old assertions will work exactly the same way they used to.</p>
<p>However, 2.x gives you a brand new <a href="/modules/assertions"><code>@serenity-js/assertions</code></a> library that enables you to implement the above code sample as follows:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> contain<span class="token punctuation">,</span> Ensure <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Target<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> TodoListItems <span class="token operator">=</span> Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'items on the list'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'ul.todo-list li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

actor<span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">ofAll</span><span class="token punctuation">(</span>TodoListItems<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">contain</span><span class="token punctuation">(</span><span class="token string">'Buy some milk'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>  
</code></pre>
<p>In the above example, the expectation for a list to <a href="/modules/assertions/function/index.html#static-function-contain"><code>contain</code></a> an item is one of the many <a href="/modules/assertions/identifiers.html#expectations"><code>expectations</code></a> that ship with the <a href="/modules/assertions"><code>@serenity-js/assertions</code></a> module.</p>
<p>There's a number of <strong>great things</strong> about this new design, that I'm particularly proud of. </p>
<p>For example, expectations can be composed:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> contain<span class="token punctuation">,</span> Ensure<span class="token punctuation">,</span> not <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>

actor<span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">ofAll</span><span class="token punctuation">(</span>TodoListItems<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">not</span><span class="token punctuation">(</span><span class="token function">contain</span><span class="token punctuation">(</span><span class="token string">'Buy some milk'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>  
</code></pre>
<p>Which is useful if you need to cater for the much more sophisticated use cases:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> 
    and<span class="token punctuation">,</span>
    contain<span class="token punctuation">,</span>
    containAtLeastOneItemThat<span class="token punctuation">,</span>
    Ensure<span class="token punctuation">,</span>
    equals<span class="token punctuation">,</span>
    not
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>

actor<span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">ofAll</span><span class="token punctuation">(</span>TodoListItems<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">and</span><span class="token punctuation">(</span>
        <span class="token function">containAtLeastOneItemThat</span><span class="token punctuation">(</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'Buy some milk'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">not</span><span class="token punctuation">(</span><span class="token function">contain</span><span class="token punctuation">(</span><span class="token string">'Buy chocolate'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Another great thing about the new <a href="/modules/assertions/identifiers.html#expectations"><code>expectations</code></a>
is that they're now <strong>compatible with other interactions</strong>, not just the one to <a href="/modules/assertions/class/src/Ensure.ts~Ensure.html"><code>Ensure</code></a>!</p>
<p>For example, you can use them to synchronise your tests with the UI thanks to the interaction to <a href="/modules/protractor/class/src/screenplay/interactions/Wait.ts~Wait.html"><code>Wait</code></a>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Text<span class="token punctuation">,</span> Wait <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> includes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>

actor<span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Wait<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>StatusBar<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'Finished loading!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>You can also use them to control the flow of your test scenario using the interaction to <a href="/modules/assertions/class/src/Check.ts~Check.html"><code>Check</code></a>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Click<span class="token punctuation">,</span> isVisible <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Check <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>

actor<span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
    Check<span class="token punctuation">.</span><span class="token function">whether</span><span class="token punctuation">(</span>CookieConsent<span class="token punctuation">.</span>Dialog<span class="token punctuation">,</span> <span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">andIfSo</span><span class="token punctuation">(</span>Click<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>CookieConsent<span class="token punctuation">.</span>AcceptButton<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Did you notice that the <a href="/modules/protractor"><code>@serenity-js/protractor</code></a> module ships with UI-specific expectations, such as <a href="/modules/protractor/function/index.html#static-function-isVisible"><code>isVisible</code></a>?
They are as powerful as all the other expectations I showed you so far, which means that you can use them with <code>Wait</code>, <code>Check</code> and <code>Ensure</code>.</p>
<p>Those new <a href="/modules/protractor/identifiers.html#expectations">UI-specific expectations</a> replace the ones that used to ship with Serenity/JS 1.x:</p>
<table>
<thead>
<tr>
<th>before</th>
<th>after</th>
</tr>
</thead>
<tbody><tr>
<td>Is.clickable()</td>
<td>isClickable()</td>
</tr>
<tr>
<td>Is.enabled()</td>
<td>isEnabled()</td>
</tr>
<tr>
<td>Is.present()</td>
<td>isPresent()</td>
</tr>
<tr>
<td>Is.selected()</td>
<td>isSelected()</td>
</tr>
<tr>
<td>Is.visible()</td>
<td>isVisible()</td>
</tr>
</tbody></table>
<h2 id="before-you-go">Before you go</h2>
<p>Hopefully this guide gave you a good understanding of how version 2.0 improves upon the original design
and can help you to write even better acceptance tests.</p>
<p>If Serenity/JS has made your life easier, please <a href="https://github.com/serenity-js/serenity-js">give us a star ★</a> on GitHub and consider <a href="https://github.com/sponsors/serenity-js">getting us a coffee</a> every now and then by becoming a <a href="https://github.com/sponsors/serenity-js">GitHub Sponsor</a> of the project from as little as $5. </p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-hands-helping"></i></div>
    <div class="text">
        <h4>Need a hand?</h4>
        <p>
            If you'd like some help with the upgrade or a member of the Serenity/JS core team to review your code base - <a href="/support.html">get in touch</a>.
        </p>
    </div>
</div>




</body></html>
                        </section>


                        <footer class="d-print-none">
                                <a class="previous" href="/handbook/release-notes/versioning.html">
                                    <i class="fa fa-chevron-left"></i>
                                    <span>Serenity/JS versioning</span>
                                </a>
                                <a class="next" href="/handbook/release-notes/serenity-js-3.html">
                                    <span>Serenity/JS 3.0 (RC)</span>
                                    <i class="fa fa-chevron-right"></i>
                                </a>
                        </footer>
                    </article>
                </div>
            </div>
        </div>
    </section>

</section>

<footer id="footer" class="ftr ftr-accent-2 text-center">
    <div class="container ftr-columns d-print-none">
        <div class="row">
            <div class="col-md-2 ml-auto col-sm-4">
                <h5 class="ftr-column-title ">Get started</h5>
                <ul class="ftr-column-list">
                    <li><a href="/handbook/">Serenity/JS Handbook</a></li>
                    <li><a href="/modules/">API docs</a></li>
                    <li><a href="https://github.com/serenity-js">Template projects</a></li>
                    <li><a href="https://github.com/serenity-js/serenity-js/tree/2.x/examples">Examples</a></li>
                </ul>
            </div>
            <div class="col-md-2 col-sm-4">
                <h5 class="ftr-column-title ">Support</h5>
                <ul class="ftr-column-list">
                    <li><a href="/support.html">Free Support</a></li>
                    <li><a href="/support.html#training-and-support-services">Training</a></li>
                    <li><a href="/support.html#training-and-support-services">Commercial support</a></li>
                    <li><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                    <li><a href="https://gitter.im/serenity-js/Lobby">Community Chat</a></li>
                </ul>
            </div>
            <div class="col-md-2 mr-auto col-sm-4">
                <h5 class="ftr-column-title">Developers</h5>
                <ul class="ftr-column-list">
                    <li><a href="/contributing.html">Contribute</a></li>
                    <li><a href="/changelog.html">Changelog</a></li>
                    <li><a href="/license.html">License</a></li>
                </ul>
            </div>
        </div>
        <div class="col-lg-6 mx-auto">
            <div class="ftr-column-list">
                <a class="github-button" href="https://github.com/sponsors/serenity-js" data-icon="octicon-heart" data-size="large" aria-label="Sponsor Serenity/JS on GitHub">Sponsor</a>
                <a class="github-button" href="https://github.com/serenity-js/serenity-js" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star Serenity/JS on GitHub">Star</a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-6 mx-auto ftr-bt ftr-oneline ">
                Made with love in London, UK &copy; 2016 - 2022 <a href="https://janmolak.com" target="_blank">Jan Molak</a>, smartcode ltd.
            </div>
        </div>
    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
        integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"
        integrity="sha256-m1eTvwEHwmsw4+XKF7BshClVJEPwTVycveNl0CS0Mkk="
        crossorigin="anonymous"></script>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<script src="/js/charming-pro.js"></script>

<script src="/js/search_index_initialiser.js"></script>
<script src="/js/inherited-summary.js"></script>
<script src="/js/test-summary.js"></script>
<script src="/js/patch-for-local.js"></script>
<script src="/js/external-links.js"></script>

<script>
    anchors.add('article h1, article h2, article h3, article h4');
</script>

<script type="text/javascript" id="cookieinfo"
        src="//cookieinfoscript.com/js/cookieinfo.min.js"
        data-message="We use analytical cookies to optimise the performance of this website. By continuing to use this site you agree to help us make it better for everyone."
        data-close-text="Got it!"
>
</script>

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
        securityLevel: 'loose',
        // theme: 'default',
        flowchart: {
            useMaxWidth: true,
            htmlLabels: true,
        },
        themeVariables: {
            // primaryColor: '#ffffff',
            // primaryBorderColor: '#373a3c',
            fontFamily: '"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace !important',
            defaultLinkColor: '#c1c1ff',
            edgeLabelBackground: '#fff',
        }
    });
</script>
</body>
</html>
