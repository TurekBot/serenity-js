<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-85788349-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-85788349-2');
    </script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "8d0y8ip2in");
    </script>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,900,700,400italic" rel="stylesheet">
    <title>The Screenplay Pattern | Serenity/JS</title>
    <meta property="og:title" content="The Screenplay Pattern | Serenity/JS"/>
    <meta property="og:description" content="Full-stack acceptance testing with Serenity/JS"/>
    <meta property="og:image" content="https://serenity-js.org/images/serenity-js-banner.png"/>
    <meta property="og:url" content="https://serenity-js.org/handbook/design/screenplay-pattern.html"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/icons/site.webmanifest">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/css/charming-pro-serenity-js.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css"
          integrity="sha256-AJfZWudfDWpFpIZ3USExGYDGwsYz47IgfEQCiGTm4wQ=" crossorigin="anonymous">
</head>
<body>

<div id="top"
        class="block block-dark block-bb bg-gradient-accent-2 p-0 d-print-none">
    <div class="container">
        <nav id="web-nav" class="web-nav web-nav-light">
            <header>
                <a href="/" class="serenity-js-logo">
                    <svg width="190px" height="42px" viewBox="0 0 1077 243" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
                        <path class="logo-accent" d="M295.133,157.626l22.342,0c1.571,12.567 6.633,23.04 27.753,23.04c13.789,0 23.563,-7.68 23.563,-19.2c0,-11.52 -5.76,-15.884 -26.007,-19.2c-29.847,-4.015 -43.985,-13.091 -43.985,-36.48c0,-20.422 17.454,-35.782 43.461,-35.782c26.881,0 42.938,12.219 45.382,36.131l-21.294,0c-2.27,-13.091 -9.775,-18.676 -24.088,-18.676c-14.138,0 -21.469,6.807 -21.469,16.407c0,10.123 4.19,15.186 25.833,18.327c29.323,4.015 44.509,12.393 44.509,37.353c0,21.643 -18.327,38.574 -45.905,38.574c-34.036,0 -48.35,-16.931 -50.095,-40.494" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M472.468,141.219c-1.048,-15.709 -9.077,-22.691 -22.168,-22.691c-12.741,0 -21.294,8.552 -23.389,22.691l45.557,0Zm-67.55,10.473l0,-1.397c0,-28.276 19.375,-47.127 45.382,-47.127c22.691,0 43.113,13.44 43.113,46.08l0,6.109l-66.851,0c0.698,17.28 9.426,27.054 25.135,27.054c12.742,0 19.375,-5.061 20.945,-13.963l20.422,0c-2.967,19.2 -18.502,29.672 -41.891,29.672c-26.88,0 -46.255,-17.629 -46.255,-46.428" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M513.481,105.088l14.487,0l0,16.407c5.761,-10.298 13.616,-17.454 30.023,-17.978l0,13.615c-18.327,0.872 -30.023,6.633 -30.023,29.148l0,50.095l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M637.754,141.917c-1.396,-18.851 -11.171,-26.356 -26.182,-26.356c-14.836,0 -24.785,10.124 -27.229,26.356l53.411,0Zm-68.945,9.774l0,-1.396c0,-27.578 17.629,-46.778 42.763,-46.778c21.12,0 41.019,12.742 41.019,45.381l0,4.713l-68.772,0c0.699,20.771 10.648,32.291 29.325,32.291c14.137,0 22.341,-5.236 24.261,-15.883l14.488,0c-3.143,18.327 -18.328,27.927 -38.924,27.927c-25.833,0 -44.16,-18.153 -44.16,-46.255" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M673.882,105.088l14.487,0l0,14.487c4.189,-8.552 14.313,-16.058 29.324,-16.058c18.85,0 32.116,10.299 32.116,36.829l0,56.029l-14.488,0l0,-57.076c0,-16.059 -6.806,-23.215 -21.468,-23.215c-13.441,0 -25.484,8.553 -25.484,24.96l0,55.331l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M772.733,105.088l14.486,0l0,91.287l-14.487,0l0,-91.287Zm-2.618,-28.626c0,-5.237 4.365,-9.6 9.601,-9.6c5.236,0 9.599,4.363 9.599,9.6c0,5.237 -4.363,9.6 -9.599,9.6c-5.236,0 -9.601,-4.363 -9.601,-9.6" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M819.16,173.51l0,-56.204l-13.091,0l0,-12.218l13.091,0l0,-20.77l14.487,0l0,20.77l21.294,0l0,12.218l-21.294,0l0,54.808c0,8.901 4.015,13.265 11.346,13.265c4.538,0 8.028,-0.698 11.171,-1.92l0,12.218c-2.968,1.047 -6.459,1.92 -12.394,1.92c-16.581,0 -24.61,-9.774 -24.61,-24.087" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M902.589,186.949l-35.782,-81.861l15.535,0l27.927,65.454l25.309,-65.454l14.836,0l-50.443,123.054l-14.662,0l17.28,-41.193Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M996.26,100.15l7.752,0l-22.728,69.537l-7.675,0l22.651,-69.537Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1002.35,157.646l0,-7.826c1.882,0.752 3.763,1.353 6.924,1.353c4.891,0 8.053,-2.558 8.053,-9.181l0,-37.252l10.084,0l0,37.478c0,11.664 -6.698,17.008 -16.632,17.008c-4.44,0 -6.698,-0.678 -8.429,-1.58" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1035.46,141.841l9.633,0c0.678,5.42 2.86,9.934 11.966,9.934c5.945,0 10.16,-3.311 10.16,-8.278c0,-4.967 -2.484,-6.847 -11.214,-8.277c-12.868,-1.733 -18.964,-5.645 -18.964,-15.729c0,-8.806 7.525,-15.427 18.738,-15.427c11.59,0 18.514,5.267 19.567,15.578l-9.181,0c-0.978,-5.645 -4.215,-8.053 -10.386,-8.053c-6.095,0 -9.256,2.934 -9.256,7.074c0,4.366 1.806,6.547 11.138,7.901c12.643,1.732 19.191,5.343 19.191,16.105c0,9.332 -7.903,16.633 -19.793,16.633c-14.675,0 -20.846,-7.301 -21.599,-17.461" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M152.636,121.232c0,17.344 -14.06,31.404 -31.404,31.404c-17.344,0 -31.405,-14.06 -31.405,-31.404c0,-17.344 14.061,-31.404 31.405,-31.404c17.344,0 31.404,14.06 31.404,31.404" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M230.534,68.726l-67.217,67.217l46.941,0c-7.045,42.781 -44.281,75.521 -89.026,75.521c-31.396,0 -59.086,-16.127 -75.255,-40.523l-22.286,22.287c22.081,29.866 57.547,49.236 97.541,49.236c66.955,0 121.232,-54.277 121.232,-121.232c0,-18.81 -4.284,-36.619 -11.93,-52.506m-198.328,37.796c7.045,-42.782 44.281,-75.522 89.026,-75.522c31.396,0 59.086,16.127 75.255,40.523l22.286,-22.286c-22.081,-29.867 -57.547,-49.237 -97.541,-49.237c-66.955,0 -121.232,54.278 -121.232,121.232c0,18.811 4.284,36.62 11.93,52.506l67.217,-67.216l-46.941,0Z" style="fill-rule:nonzero;"/>
                    </svg>
                </a>
        
                <a href="#!" class="web-nav-toggler">
                    <span class="fa fa-close"></span>
                    <span class="fa fa-bars"></span>
                </a>
            </header>
        
            <div class="web-nav-list">
                <a href="/handbook" class="web-nav-item">Handbook</a>
                <a href="/modules" class="web-nav-item">Modules</a>
                <a href="/changelog.html" class="web-nav-item">Changelog</a>
                <a href="/support.html" class="web-nav-item">Support</a>
                <a href="/community/sponsors.html" class="web-nav-item">Sponsors</a>
                <a href="https://twitter.com/SerenityJS" class="web-nav-item" title="Serenity/JS on Twitter">
                    <span class="d-block d-lg-none">@SerenityJS on Twitter</span><span class="fab fa-twitter d-none d-lg-inline"> </span>
                </a>
                <a href="https://www.youtube.com/channel/UC0RdeVPyjtJopVHvlLrXd1Q" class="web-nav-item" title="Serenity/JS on YouTube">
                    <span class="d-block d-lg-none">serenity-js on YouTube</span><span class="fab fa-youtube d-none d-lg-inline"> </span>
                </a>
                <a href="https://github.com/serenity-js" class="web-nav-item" title="Serenity/JS on GitHub">
                    <span class="d-block d-lg-none">Source code</span><span class="fab fa-github d-none d-lg-inline"> </span>
                </a>
            </div>
        
            <div id="web-nav-mobile-indicator"><!-- this signals to the javascript if the navigation is mobile or not --></div>
        </nav>
    </div>

    <div class="announcement" role="banner">
        👋 CSS? XPath? Or data-test-id? Help make Serenity/JS selectors better by answering <strong><a href="https://forms.gle/CGebfBPwKJQHkXr69">3 short questions</a></strong>!
    </div>
</div>

<section id="handbook">
    <section>
        <div class="container">
            <div class="row">
                <aside id="sidebar" class="col-lg-3 col-md-12 d-print-none">
                    <nav class="toc navigation text-truncate" data-ice="nav">
                        <ul class="summary">
                                <li class="header"><a href="/handbook/index.html">Overview</a></li>
                                <li class="chapter"><a href="/handbook/why-serenityjs.html">Why Serenity/JS?</a></li>
                                <li class="chapter"><a href="/handbook/demo.html">Demo</a></li>
                                <li class="chapter"><a href="/handbook/about.html">About this book</a></li>
                                <li class="chapter"><a href="/support.html">Support</a></li>
                                <li class="chapter"><a href="/contributing.html">Contributing</a></li>
                                <li class="chapter"><a href="/license.html">License</a></li>
                                <li class="header"><a href="/handbook/release-notes/index.html">What&#x27;s new 🎁</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/versioning.html">Serenity/JS versioning</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/serenity-js-2.html">Serenity/JS 2.0</a></li>
                                <li class="chapter"><a href="/handbook/release-notes/serenity-js-3.html">Serenity/JS 3.0 (RC)</a></li>
                                <li class="header"><a href="/handbook/thinking-in-serenity-js/index.html">Thinking in Serenity/JS</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/hello-serenity-js.html">Hello, Serenity/JS!</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/test-runners.html">Test Runners and Reporting</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/actors-and-asynchrony.html">Actors and Asynchrony</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/assertions.html">Assertions</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/testing-rest-apis.html">Testing REST APIs</a></li>
                                <li class="chapter"><a href="/handbook/thinking-in-serenity-js/testing-web-uis.html">Testing Web UIs</a></li>
                                <li class="header"><a href="/handbook/design/index.html">Design Guide</a></li>
                                <li class="chapter"><a href="/handbook/design/the-trouble-with-test-scripts.html">The trouble with test scripts</a></li>
                                <li class="chapter"><a href="/handbook/design/screenplay-pattern.html">The Screenplay Pattern</a></li>
                                <li class="chapter"><a href="/handbook/design/actors.html">Actors</a></li>
                                <li class="chapter"><a href="/handbook/design/abilities.html">Abilities</a></li>
                                <li class="chapter"><a href="/handbook/design/interactions.html">Interactions</a></li>
                                <li class="chapter"><a href="/handbook/design/tasks.html">Tasks</a></li>
                                <li class="chapter"><a href="/handbook/design/questions.html">Questions</a></li>
                                <li class="chapter"><a href="/handbook/design/errors.html">Errors</a></li>
                                <li class="header"><a href="/handbook/integration/index.html">Integration Guide</a></li>
                                <li class="chapter"><a href="/handbook/integration/architecture.html">Architecture</a></li>
                                <li class="chapter"><a href="/handbook/integration/runtime-dependencies.html">Runtime dependencies</a></li>
                                <li class="chapter"><a href="/handbook/integration/installation.html">Installation</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-cucumber.html">Integrating with Cucumber</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-jasmine.html">Integrating with Jasmine</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-mocha.html">Integrating with Mocha</a></li>
                                <li class="chapter"><a href="/handbook/integration/serenityjs-and-protractor.html">Integrating with Protractor</a></li>
                                <li class="chapter"><a href="/handbook/integration/jira-and-other-issue-trackers.html">Jira and other issue trackers</a></li>
                                <li class="header"><a href="/handbook/reporting/index.html">Reporting</a></li>
                                <li class="chapter"><a href="/handbook/reporting/console-reporter.html">Console Reporter</a></li>
                                <li class="chapter"><a href="/handbook/reporting/serenity-bdd-reporter.html">Serenity BDD Reporter</a></li>
                                <li class="chapter"><a href="/handbook/reporting/artifact-archiver.html">Artifact Archiver</a></li>
                                <li class="chapter"><a href="/handbook/reporting/stream-reporter.html">Stream Reporter</a></li>
                                <li class="header"><a href="/community/index.html">Community</a></li>
                                <li class="chapter"><a href="/community/events-and-articles.html">Events and articles</a></li>
                                <li class="chapter"><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                        </ul>
                    </nav>
                </aside>

                <div class="col-lg-9 col-md-12">
                    <article class="content">
                        <nav class="article-tools">
                            <a href="https://github.com/serenity-js/serenity-js/edit/master/documentation/website/src/handbook/design/screenplay-pattern.md">
                                <i class="far fa-edit"></i> Edit on GitHub</a>
                        </nav>
                        <section class="github-markdown">
                            <html><head></head><body><h1 id="the-screenplay-pattern">The Screenplay Pattern</h1>
<p>The Screenplay Pattern is a <a href="https://en.wikipedia.org/wiki/User-centered_design">user-centered</a> approach to writing high-quality automated acceptance tests. It steers you towards an effective use of layers of abstraction, helps your tests capture the business vernacular, and encourages good testing and software engineering habits.</p>
<p>Instead of focusing on low-level, interface-centric interactions, you describe your test scenarios in a similar way you'd describe them to a human being - an <em>actor</em> in Screenplay-speak. You write simple, readable and highly-reusable code that instructs the <em>actors</em> what activities to perform and what things to check. The domain-specific test language you create is used to express <em>screenplays</em> - the activities for the actors to perform in a given test scenario.</p>
<p>The Screenplay Pattern is one of the core design patterns behind Serenity/JS and in this chapter we'll look into how to apply it in practice.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text"><p><strong>Did you know?</strong>
    The Screenplay Pattern uses the <a href="https://wiki.c2.com/?SystemMetaphor">system metaphor</a> of a stage performance where each test scenario is
    like a little <a href="https://en.wikipedia.org/wiki/Screenplay">screenplay</a>
    describing how the actors should go about performing their activities
    while interacting with the system under test.</p>
    <p>
    The "screen" in "screenplay" has nothing to do with the computer screen.
    On the contrary, the Screenplay Pattern is a general method of modelling acceptance tests interacting with <em>any</em> external interface of your system. In fact, the Serenity/JS implementation of the Screenplay Pattern can help you break free from UI-only-based testing!
    </p></div>
</div>

<h2 id="the-five-elements">The Five Elements</h2>
<p>The Screenplay Pattern is beautiful in its simplicity. It's made up of five elements, five types of building blocks that Serenity/JS gives you to design any functional acceptance test you need, no matter how sophisticated or how simple. </p>
<p>The key elements of the pattern are: actors, abilities, interactions, questions, and tasks.</p>
<figure>
    <img src="/handbook/design/images/the-screenplay-pattern.png" alt="The Screenplay Pattern">
    <figcaption><span>The Screenplay Pattern</span></figcaption>
</figure>

<h2 id="screenplay-by-example">Screenplay by example</h2>
<p>The best way to illustrate the Screenplay Pattern is through a practical example, so let's continue experimenting with the <a href="http://todomvc.com/examples/angularjs/#/">TodoMVC application</a> we've introduced in the <a href="handbook/thinking-in-serenity-js/the-trouble-with-test-scripts.html">previous chapter</a>. And while Serenity/JS supports <a href="http://todomvc.com/examples/angularjs/#/">several test runners</a> (including <a href="/modules/cucumber/">Cucumber.js</a>, which we'll look into later on in the book), we'll use <a href="/modules/jasmine/">Jasmine</a> for now to keep things simple.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-laptop-code"></i></div>
    <div class="text"><p>
        If you'd like to follow along with the coding, please use the <a href="https://github.com/serenity-js/serenity-js-jasmine-protractor-template">Serenity/JS-Jasmine-Protractor template</a>.
    </p></div>
</div>

<h2 id="actors">Actors</h2>
<p>The Screenplay Pattern is a user-centric model with users and external systems interacting with the system under test represented as <em>actors</em>. 
Actors are a key element of the pattern as they are the ones performing the test scenarios.</p>
<p>In Serenity/JS, an <a href="/modules/core/function/index.html#static-function-actorCalled"><code>Actor</code></a> is defined using an <a href="/modules/core/function/index.html#static-function-actorCalled"><code>actorCalled</code></a> convenience method:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/todo.spec.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> actorCalled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> James<span class="token operator">:</span> Actor <span class="token operator">=</span> <span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'James'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>You'll notice that in the code sample above I called the actor <code>James</code>. While you can give your actors whatever names you like,
a good pattern to follow is to give them names indicating the <a href="https://articles.uie.com/goodwin_interview/">personae</a> they represent or the role they play in the system. This way you can help people working on the tests quickly recall the context, constraints and affordances of a given actor by associating the name of the actor with a persona they're already familiar with. </p>
<p>In this case, let's say that our actor represents the persona of "James", a "just-in-time kinda guy", who's trying to get himself organised with our to-do list app.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text"><p><strong>PRO TIP:</strong>
    Just like the five core elements of the Screenplay Pattern, the term "role" comes from the <a href="https://wiki.c2.com/?SystemMetaphor">system metaphor</a> of a stage performance. It should be interpreted as the role a given actor plays in the performance,
    the role they play in the system - "a doctor", "a trader", "a writer" are all good examples of actor roles.
    </p>
    <p>
    While a "role" often implies the <em>permissions</em> a given actor has in the system they interact with (i.e. a "writer" writes articles, a "publisher" publishes articles), this is not a mechanism to <em>prevent</em> the actor from performing activities inconsistent with their role.
    In particular, Serenity/JS will not prevent you from writing scenarios where a "writer" tries to impersonate a "publisher"
    and publish an article. If it did, you would not be able to test if your system correctly implemented its access control mechanisms!
    </p>
    </div>
</div>

<p>Check out the <a href="/handbook/design">Design Guide</a> to <a href="/handbook/design/actors.html">learn more about actors</a>.</p>
<h2 id="interactions">Interactions</h2>
<p>The job of an actor is to <em>attempt to perform</em> a series of interactions with the system under test, such as navigating to websites, clicking on buttons, entering values into form fields, or sending HTTP requests to a REST API. </p>
<p>This series of interactions, provided as arguments to the <a href="/modules/core/class/src/screenplay/actor/Actor.ts~Actor.html#instance-method-attemptsTo"><code>actor.attemptsTo(..)</code></a> method, constitutes a test scenario (also referred to as an <em>actor flow</em>):</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/todo.spec.ts</span>

<span class="token keyword">import</span> <span class="token string">'jasmine'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Navigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Todo List App'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'helps engineers learn Serenity/JS'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'James'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            Navigate<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'http://todomvc.com/examples/angularjs/'</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In the example above, you see an actor performing an <a href="/modules/core/class/src/screenplay/Interaction.ts~Interaction.html"><code>Interaction</code></a> to <a href="/modules/protractor/class/src/screenplay/interactions/Navigate.ts~Navigate.html#static-method-to"><code>Navigate.to</code></a>
the <a href="'http://todomvc.com/examples/angularjs/'">TodoMVC app</a>.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-laptop-code"></i></div>
    <div class="text"><p>
        If you're following along with the coding, you can implement the above scenario under <code>spec/todo.spec.ts</code>.
    </p></div>
</div>

<p>There are two interesting points about the scenario above that I'd like to draw your attention to:</p>
<ol>
<li>The <a href="/modules/core/class/src/screenplay/actor/Actor.ts~Actor.html#instance-method-attemptsTo"><code>actor.attemptsTo(..)</code></a> method returns a standard JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>, which allows Jasmine to <a href="https://jasmine.github.io/tutorials/async#promises">synchronise</a> the chain of actor's interactions with the test runner. Serenity/JS does not try to pretend that the world of JavaScript is not asynchronous. Instead, it gives you patterns and tools to deal with this in an elegant way.</li>
<li>The interaction to <a href="/modules/protractor/class/src/screenplay/interactions/Navigate.ts~Navigate.html"><code>Navigate</code></a>, just like many other common interactions you'll need to write your Web tests, ships as part of the <a href="/modules/protractor/"><code>@serenity-js/protractor</code></a> module. Serenity/JS <a href="/modules">modules</a> provide dozens of interactions to cover most of your test automation needs, and if there are any missing you can <a href="/handbook/design/interactions.html">easily create them yourself</a> and <a href="/contributing.html">contribute back</a> to the community 😊</li>
</ol>
<p>Check out the <a href="/handbook/design">Design Guide</a> to <a href="/handbook/design/interactions.html">learn more about interactions</a>. </p>
<h2 id="abilities">Abilities</h2>
<p>If Serenity/JS is a full-stack acceptance testing framework that allows you to interact with any interface of the system, how does it know what interfaces you <em>actually need</em> to exercise in your test? How does it know how to connect your actors to those interfaces? 
Well, it doesn't unless you tell it, and that's where <em>abilities</em> come into play.</p>
<p>You can think of an <a href="/modules/core/class/src/screenplay/Ability.ts~Ability.html"><code>Ability</code></a> as a thin wrapper around a client of a specific interface you'd like the actor to use.
Those abilities is what the interactions use under the hood and what enables the actor to perform interactions with the system under test.</p>
<p>For example, here's an ability that enables the actor to browse the Web using <code>protractor.browser</code> and enables Web-specific interactions such as <code>Navigate</code>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Ability <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> browseTheWeb<span class="token operator">:</span> Ability <span class="token operator">=</span> BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Now, you <em>could</em> give an actor this ability directly, using the <a href="/modules/core/class/src/screenplay/actor/Actor.ts~Actor.html#instance-method-whoCan"><code>actor.whoCan(..)</code></a> API:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/todo.spec.ts</span>

<span class="token keyword">import</span> <span class="token string">'jasmine'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> actorCalled <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb<span class="token punctuation">,</span> Navigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Todo List App'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'helps engineers learn Serenity/JS'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'James'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
                Navigate<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'http://todomvc.com/examples/angularjs/'</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>However, there's a more elegant way to do it that doesn't require you to <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">repeat yourself</a> in every test you write.</p>
<p>The alternative is to <a href="/modules/core/function/index.html#static-function-engage"><code>engage(..)</code></a> a <a href="/modules/core/class/src/stage/Cast.ts~Cast.html"><code>Cast</code></a> of actors, who gain their abilities when they prepare for the performance before the scenario starts:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/todo.spec.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> actorCalled<span class="token punctuation">,</span> Cast<span class="token punctuation">,</span> engage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb<span class="token punctuation">,</span> Navigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
            BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Todo List App'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">engage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'helps engineers learn Serenity/JS'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'James'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            Navigate<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'http://todomvc.com/examples/angularjs/'</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-laptop-code"></i></div>
    <div class="text"><p>
        If you're following along with the coding, you can execute the test you've just implemented by running <code>npm test</code> in your terminal.
    </p></div>
</div>

<p>Check out the <a href="/handbook/design">Design Guide</a> to <a href="/handbook/design/abilities.html">learn more about abilities</a>.</p>
<h2 id="questions">Questions</h2>
<p>The fourth building block of the Screenplay Pattern is <em>questions</em>, and just like with interactions, questions are interface-specific and enabled by abilities.
Answering a <a href="/modules/core/class/src/screenplay/Question.ts~Question.html"><code>Question</code></a> provides actor with information about the state of the system under test.</p>
<p>For example, you have a question that retrieves the <a href="/modules/protractor/class/src/screenplay/questions/Website.ts~Website.html#static-method-title">title of the website</a>: </p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Question <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Website <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> title<span class="token operator">:</span> Question<span class="token operator">&lt;</span><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;&gt;</span> <span class="token operator">=</span> Website<span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Or the one that <a href="/modules/protractor/class/src/screenplay/questions/targets/Target.ts~Target.html">retrieves a web element</a> for the actor's interactions to target:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Question <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Target <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by<span class="token punctuation">,</span> ElementFinder <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> header<span class="token operator">:</span> Question<span class="token operator">&lt;</span>ElementFinder<span class="token operator">&gt;</span> <span class="token operator">=</span> Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>You also have higher-order questions that can be passed other questions as arguments.</p>
<p>For example, this is how you retrieve the text of the header web element from the sample above:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Question <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> headerText<span class="token operator">:</span> Question<span class="token operator">&lt;</span><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;&gt;</span> <span class="token operator">=</span> Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>So what can you do with those questions? A great many things!</p>
<p>You can use them with most Serenity/JS interactions, such as the one that <a href="/modules/core/class/src/screenplay/interactions/Log.ts~Log.html">logs the answer</a> to the question so that it can be <a href="/modules/console-reporter/">printed to the terminal</a> (useful when debugging your test scenarios):</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Log <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>

Log<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span>headerText<span class="token punctuation">)</span>
</code></pre>
<p>More importantly, you can also use them with <a href="/modules/assertions/">assertions</a>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Ensure<span class="token punctuation">,</span> equals <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>

Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>headerText<span class="token punctuation">,</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>As well as for <a href="/modules/protractor/class/src/screenplay/interactions/Wait.ts~Wait.html">synchronising your tests with the UI</a>:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Wait<span class="token punctuation">,</span> isPresent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> equals <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>

Wait<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>header<span class="token punctuation">,</span> <span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Wait<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>headerText<span class="token punctuation">,</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>If you wanted to experiment with some of the above questions, you could expand the original test scenario as follows:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/todo.spec.ts</span>
<span class="token keyword">import</span> <span class="token string">'jasmine'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Ensure<span class="token punctuation">,</span> equals <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> actorCalled<span class="token punctuation">,</span> Cast<span class="token punctuation">,</span> engage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb<span class="token punctuation">,</span> isVisible<span class="token punctuation">,</span> Navigate<span class="token punctuation">,</span> Target<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> Wait <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by<span class="token punctuation">,</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
            BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// this is what I call a Lean Page Object, more on those later on in the book</span>
<span class="token keyword">class</span> <span class="token class-name">TodoListApp</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> header <span class="token operator">=</span> Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Todo List App'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">engage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'helps engineers learn Serenity/JS'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'James'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            Navigate<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'http://todomvc.com/examples/angularjs/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            Wait<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>TodoListApp<span class="token punctuation">.</span>header<span class="token punctuation">,</span> <span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>TodoListApp<span class="token punctuation">.</span>header<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-laptop-code"></i></div>
    <div class="text"><p>
        If you'd like to see the above scenario in action, paste the code above in <code>spec/todo.spec.ts</code> and run <code>npm test</code> in your terminal.
    </p></div>
</div>

<p>Check out the <a href="/handbook/design">Design Guide</a> to <a href="/handbook/design/questions.html">learn more about questions</a>.</p>
<h2 id="tasks">Tasks</h2>
<p>The final piece of the puzzle is <em>tasks</em>. <a href="/modules/core/class/src/screenplay/Task.ts~Task.html"><code>Tasks</code></a> are the <a href="https://janmolak.com/user-centred-design-how-a-50-year-old-technique-became-the-key-to-scalable-test-automation-66a658a36555">higher-level abstractions</a> that model the activities an actor needs to perform in business domain terms.</p>
<p>For example, the three interactions we've just discussed could be modelled as a task to "launch the app":</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/todo.spec.ts</span>
<span class="token keyword">import</span> <span class="token string">'jasmine'</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token punctuation">{</span> Ensure<span class="token punctuation">,</span> equals <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Task <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> isVisible<span class="token punctuation">,</span> Navigate<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> Wait <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">LaunchTheApp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    Task<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor launches the app</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> 
        Navigate<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'http://todomvc.com/examples/angularjs/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Wait<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>TodoListApp<span class="token punctuation">.</span>header<span class="token punctuation">,</span> <span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>TodoListApp<span class="token punctuation">.</span>header<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
</code></pre>
<p>To make an actor perform a task, you pass it to the <code>attemptsTo(..)</code> method, just like we did with the interactions.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// spec/todo.spec.ts</span>
<span class="token keyword">import</span> <span class="token string">'jasmine'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Ensure<span class="token punctuation">,</span> equals <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/assertions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Actor<span class="token punctuation">,</span> actorCalled<span class="token punctuation">,</span> Cast<span class="token punctuation">,</span> engage<span class="token punctuation">,</span> Task <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowseTheWeb<span class="token punctuation">,</span> isVisible<span class="token punctuation">,</span> Navigate<span class="token punctuation">,</span> Target<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> Wait <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@serenity-js/protractor'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> by<span class="token punctuation">,</span> protractor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'protractor'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Actors</span> <span class="token keyword">implements</span> <span class="token class-name">Cast</span> <span class="token punctuation">{</span>
    <span class="token function">prepare</span><span class="token punctuation">(</span>actor<span class="token operator">:</span> Actor<span class="token punctuation">)</span><span class="token operator">:</span> Actor <span class="token punctuation">{</span>
        <span class="token keyword">return</span> actor<span class="token punctuation">.</span><span class="token function">whoCan</span><span class="token punctuation">(</span>
            BrowseTheWeb<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span>protractor<span class="token punctuation">.</span>browser<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// this is what I call a Lean Page Object, more on those later on in the book</span>
<span class="token keyword">class</span> <span class="token class-name">TodoListApp</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> header <span class="token operator">=</span> Target<span class="token punctuation">.</span><span class="token function">the</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">located</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">LaunchTheApp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    Task<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#actor launches the app</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        Navigate<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'http://todomvc.com/examples/angularjs/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Wait<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>TodoListApp<span class="token punctuation">.</span>header<span class="token punctuation">,</span> <span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Ensure<span class="token punctuation">.</span><span class="token function">that</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>TodoListApp<span class="token punctuation">.</span>header<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>

<span class="token function">fdescribe</span><span class="token punctuation">(</span><span class="token string">'Todo List App'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">engage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'helps engineers learn Serenity/JS'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token function">actorCalled</span><span class="token punctuation">(</span><span class="token string">'James'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attemptsTo</span><span class="token punctuation">(</span>
            <span class="token function">LaunchTheApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// perform other tasks, like adding items to the list</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The great thing about Serenity/JS tasks is that you can use them to compose not just the interactions, but other tasks too! I'll show you how to do it later on in the book.</p>
<p>For now, you can paste the code above in <code>spec/todo.spec.ts</code> and run <code>npm test</code> in your terminal to see output similar to the below:</p>
<pre class="language-typescript"><code><span class="token operator">/</span>Users<span class="token operator">/</span>jan<span class="token operator">/</span>serenity<span class="token operator">-</span>js<span class="token operator">-</span>experiments<span class="token operator">/</span>spec<span class="token operator">/</span>todo<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>ts<span class="token operator">:</span><span class="token number">32</span>

Todo List App<span class="token operator">:</span> helps engineers learn Serenity<span class="token operator">/</span><span class="token constant">JS</span>

  James launches the app
    ✓ James navigates to <span class="token string">'http://todomvc.com/examples/angularjs/'</span> <span class="token punctuation">(</span>840ms<span class="token punctuation">)</span>
    ✓ James waits up to 5s until the header does become <span class="token function">visible</span> <span class="token punctuation">(</span>155ms<span class="token punctuation">)</span>
    ✓ James ensures that the text <span class="token keyword">of</span> the header does equal <span class="token string">'todos'</span> <span class="token punctuation">(</span>18ms<span class="token punctuation">)</span>

✓ Execution <span class="token function">successful</span> <span class="token punctuation">(</span>1s 39ms<span class="token punctuation">)</span>
</code></pre>
<p>Check out the <a href="/handbook/design">Design Guide</a> to <a href="/handbook/design/tasks.html">learn more about tasks</a>.</p>
<hr>
<p>Now that you understand one of the core patterns behind Serenity/JS it's time to move on to the next one, the <a href="/handbook/thinking-in-serenity-js/lean-page-objects.html">Lean Page Objects</a>.</p>
<p>In this <a href="/handbook/thinking-in-serenity-js/lean-page-objects.html">next article</a> we'll improve the test we've just written and look at ways to structure our code better.</p>
<div class="pro-tip">
    <div class="icon"><i class="fas fa-lightbulb"></i></div>
    <div class="text">
        <h4>The origins of the Screenplay Pattern</h4>
        <p>
            Serenity/JS introduced the Screenplay Pattern to the JavaScript world back in 2016,
            but the ideas behind it have been around for a while in various forms.
        </p>
        <p>
            It all started at the Agile Alliance Functional Testing Tools workshop (AAFTT) back in 2007.
        </p>
        <p>
            <a href="http://www.developertesting.com/archives/month200710/20071013-In%20Praise%20of%20Abstraction.html">"In praise of abstraction"</a>, a talk given by Kevin Lawrence, inspired <a href="http://antonymarcano.com/Site/Home.html">Antony Marcano</a>
            to implement a fluent DSL based on Kevin's idea to use the language of Interaction Designers to model the layers of abstraction in an acceptance test.
            With the help of <a href="http://andypalmer.com">Andy Palmer</a>, this fluent DSL is what became
            <a href="https://bitbucket.org/testingreflections/jnarrate/wiki/Home">JNarrate</a> a year later (2008).
        </p>
        <p>
            In the late 2012, Antony and Andy joined forces with <a href="https://janmolak.com/">Jan Molak</a>.
            Their experiments with Kevin's model, combined with a desire to address problems with shortcomings of the <a href="https://github.com/SeleniumHQ/selenium/wiki/PageObjects">PageObject Pattern</a> and apply <a href="https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)">SOLID design principles</a>
            to acceptance testing is what <a href="http://www.slideshare.net/RiverGlide/a-journey-beyond-the-page-object-pattern">became known in 2013</a>
            as <a href="https://github.com/screenplay/screenplay-jvm">screenplay-jvm</a>.
        </p>
        <p>
            In 2015, when Antony, Andy and Jan started working with <a href="http://johnfergusonsmart.com/">John Ferguson Smart</a>, what became known as the Screenplay Pattern found its way into <a href="http://serenity-bdd.info">Serenity BDD</a>, a popular acceptance testing and reporting library written in Java.
        </p>
        <p>
            In 2016, you can use both the Screenplay Pattern and the powerful Serenity BDD reports on JavaScript projects thanks to Serenity/JS!
        </p>
        <p>
            If you'd like to find out more about the thought process behind the Screenplay Pattern, check out:
            </p><ul>
                <li>
                    <a href="https://www.infoq.com/articles/Beyond-Page-Objects-Test-Automation-Serenity-Screenplay">"Beyond Page Objects: Next Generation Test Automation with Serenity and the Screenplay Pattern"</a>
                    by Antony Marcano, Andy Palmer, John Ferguson Smart and Jan Molak, InfoQ, 2016.
                </li>
                <li>
                    <a href="https://dzone.com/articles/page-objects-refactored-solid-steps-to-the-screenp">"Page Objects Refactored: SOLID Steps to the Screenplay Pattern"</a>
                    by Antony Marcano, Andy Palmer, John Ferguson Smart and Jan Molak, DZone, 2016.
                </li>
             </ul>
        <p></p>
    </div>
</div>
</body></html>
                        </section>


                        <footer class="d-print-none">
                                <a class="previous" href="/handbook/design/the-trouble-with-test-scripts.html">
                                    <i class="fa fa-chevron-left"></i>
                                    <span>The trouble with test scripts</span>
                                </a>
                                <a class="next" href="/handbook/design/actors.html">
                                    <span>Actors</span>
                                    <i class="fa fa-chevron-right"></i>
                                </a>
                        </footer>
                    </article>
                </div>
            </div>
        </div>
    </section>

</section>

<footer id="footer" class="ftr ftr-accent-2 text-center">
    <div class="container ftr-columns d-print-none">
        <div class="row">
            <div class="col-md-2 ml-auto col-sm-4">
                <h5 class="ftr-column-title ">Get started</h5>
                <ul class="ftr-column-list">
                    <li><a href="/handbook/">Serenity/JS Handbook</a></li>
                    <li><a href="/modules/">API docs</a></li>
                    <li><a href="https://github.com/serenity-js">Template projects</a></li>
                    <li><a href="https://github.com/serenity-js/serenity-js/tree/master/examples">Examples</a></li>
                </ul>
            </div>
            <div class="col-md-2 col-sm-4">
                <h5 class="ftr-column-title ">Support</h5>
                <ul class="ftr-column-list">
                    <li><a href="/support.html">Free Support</a></li>
                    <li><a href="/support.html#training-and-support-services">Training</a></li>
                    <li><a href="/support.html#training-and-support-services">Commercial support</a></li>
                    <li><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                    <li><a href="https://gitter.im/serenity-js/Lobby">Community Chat</a></li>
                </ul>
            </div>
            <div class="col-md-2 mr-auto col-sm-4">
                <h5 class="ftr-column-title">Developers</h5>
                <ul class="ftr-column-list">
                    <li><a href="/contributing.html">Contribute</a></li>
                    <li><a href="/changelog.html">Changelog</a></li>
                    <li><a href="/license.html">License</a></li>
                </ul>
            </div>
        </div>
        <div class="col-lg-6 mx-auto">
            <div class="ftr-column-list">
                <a class="github-button" href="https://github.com/sponsors/serenity-js" data-icon="octicon-heart" data-size="large" aria-label="Sponsor Serenity/JS on GitHub">Sponsor</a>
                <a class="github-button" href="https://github.com/serenity-js/serenity-js" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star jan-molak/serenity-js on GitHub">Star</a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-6 mx-auto ftr-bt ftr-oneline ">
                Made with love in London, UK &copy; 2016 - 2022 <a href="https://janmolak.com" target="_blank">Jan Molak</a>, smartcode ltd.
            </div>
        </div>
    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
        integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"
        integrity="sha256-m1eTvwEHwmsw4+XKF7BshClVJEPwTVycveNl0CS0Mkk="
        crossorigin="anonymous"></script>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<script src="/js/charming-pro.js"></script>

<script src="/js/search_index_initialiser.js"></script>
<script src="/js/inherited-summary.js"></script>
<script src="/js/test-summary.js"></script>
<script src="/js/patch-for-local.js"></script>
<script src="/js/external-links.js"></script>

<script>
    anchors.add('article h1, article h2, article h3, article h4');
</script>

<script type="text/javascript" id="cookieinfo"
        src="//cookieinfoscript.com/js/cookieinfo.min.js"
        data-message="We use analytical cookies to optimise the performance of this website. By continuing to use this site you agree to help us make it better for everyone."
        data-close-text="Got it!"
>
</script>

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
        securityLevel: 'loose',
        // theme: 'default',
        flowchart: {
            useMaxWidth: true,
            htmlLabels: true,
        },
        themeVariables: {
            // primaryColor: '#ffffff',
            // primaryBorderColor: '#373a3c',
            fontFamily: '"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace !important',
            defaultLinkColor: '#c1c1ff',
            edgeLabelBackground: '#fff',
        }
    });
</script>
</body>
</html>
