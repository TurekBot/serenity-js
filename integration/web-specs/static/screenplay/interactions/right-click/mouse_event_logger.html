<html lang="en">
<body>
<form>
    <input data-event-handled="false" type="text" id="input" />
    <pre><code id="output">No event received yet</code></pre>
</form>
<script>
    const input = document.getElementById('input');
    const output = document.getElementById('output');

    function handle(eventType) {
        return [eventType, (event) => {
            event.preventDefault();

            output.innerText = JSON.stringify({ event: eventType, button: event.button }, null, 4);

            input.setAttribute('data-event-handled', 'true');
        }, false ];
    }

    input.addEventListener(...handle('contextmenu'));
    input.addEventListener(...handle('click'));
    input.addEventListener(...handle('dblclick'));

    output.innerText = JSON.stringify({ handler: 'registered' }, null, 4);
</script>
</body>
</html>
